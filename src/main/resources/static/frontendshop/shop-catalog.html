<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Shop Catalog</title>
  <!-- SEO Meta Tags-->
  <meta name="description" content="Around - Multipurpose Bootstrap HTML Template">
  <meta name="keywords"
        content="bootstrap, business, corporate, coworking space, services, creative agency, dashboard, e-commerce, mobile app showcase, saas, multipurpose, product landing, shop, software, ui kit, web studio, landing, dark mode, html5, css3, javascript, gallery, slider, touch, creative">
  <meta name="author" content="Createx Studio">
  <!-- Viewport-->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Favicon and Touch Icons-->
  <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="assets/favicon/site.webmanifest">
  <link rel="mask-icon" color="#6366f1" href="assets/favicon/safari-pinned-tab.svg">
  <meta name="msapplication-TileColor" content="#080032">
  <meta name="msapplication-config" content="assets/favicon/browserconfig.xml">
  <meta name="theme-color" content="white">
  <!-- css -->
  <link href="./assets/css/bootstrap.min.css" rel="stylesheet">
  <!--自訂 css -->
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Theme mode-->
  <script>
    let mode = window.localStorage.getItem('mode'),
      root = document.getElementsByTagName('html')[0];
    if (mode !== undefined && mode === 'dark') {
      root.classList.add('dark-mode');
    } else {
      root.classList.remove('dark-mode');
    }


  </script>
  <!-- 引入 SweetAlert2 的 CSS 文件 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.css">
  <!-- Page loading styles-->
  <style>
    .page-loading {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      -webkit-transition: all .4s .2s ease-in-out;
      transition: all .4s .2s ease-in-out;
      background-color: #fff;
      opacity: 0;
      visibility: hidden;
      z-index: 9999;
    }

    .dark-mode .page-loading {
      background-color: #121519;
    }

    .page-loading.active {
      opacity: 1;
      visibility: visible;
    }

    .page-loading-inner {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      text-align: center;
      -webkit-transform: translateY(-50%);
      transform: translateY(-50%);
      -webkit-transition: opacity .2s ease-in-out;
      transition: opacity .2s ease-in-out;
      opacity: 0;
    }

    .page-loading.active>.page-loading-inner {
      opacity: 1;
    }

    .page-loading-inner>span {
      display: block;
      font-family: 'Inter', sans-serif;
      font-size: 1rem;
      font-weight: normal;
      color: #6f788b;
    }

    .dark-mode .page-loading-inner>span {
      color: #fff;
      opacity: .6;
    }

    .page-spinner {
      display: inline-block;
      width: 2.75rem;
      height: 2.75rem;
      margin-bottom: .75rem;
      vertical-align: text-bottom;
      background-color: #d7dde2;
      border-radius: 50%;
      opacity: 0;
      -webkit-animation: spinner .75s linear infinite;
      animation: spinner .75s linear infinite;
    }

    .dark-mode .page-spinner {
      background-color: rgba(255, 255, 255, .25);
    }

    @-webkit-keyframes spinner {
      0% {
        -webkit-transform: scale(0);
        transform: scale(0);
      }

      50% {
        opacity: 1;
        -webkit-transform: none;
        transform: none;
      }
    }

    @keyframes spinner {
      0% {
        -webkit-transform: scale(0);
        transform: scale(0);
      }

      50% {
        opacity: 1;
        -webkit-transform: none;
        transform: none;
      }
    }

    #carouselExampleInterval .carousel-item img {
      max-height: 300px
        /* 設置你想要的圖片最大高度 */
    }

    .carousel-control-next {
      border: none;
      background: none;
    }

    .carousel-control-prev {
      border: none;
      background: none;
    }

    .accordion-button::after {
      display: none;
    }

    /* 修改按鈕文字樣式 */
    .accordion-button span.fs-base {
      font-weight: bold;
      /* 加粗字體 */
      color: #336699;
      /* 設定文字顏色 */
      text-decoration: underline;
      /* 添加底線效果 */
      cursor: pointer;
      /* 設定滑鼠樣式為手指 */
    }

    /* 激活時的文字樣式 */
    .accordion-button.active-button span.fs-base {
      color: #cc0000;
      /* 修改文字顏色 */
      text-decoration: none;
      /* 移除底線效果 */
    }
  </style>
  <!-- Page loading scripts-->
  <script>
    (function () {
      window.onload = function () {
        const preloader = document.querySelector('.page-loading');
        preloader.classList.remove('active');
        setTimeout(function () {
          preloader.remove();
        }, 1500);
      };
    })();

  </script>
  <!-- Import Google Font-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"
        id="google-font">
  <!-- Vendor styles-->
  <link rel="stylesheet" media="screen" href="assets/vendor/nouislider/dist/nouislider.min.css" />
  <link rel="stylesheet" media="screen" href="assets/vendor/swiper/swiper-bundle.min.css" />
  <!-- Main Theme Styles + Bootstrap-->
  <link rel="stylesheet" media="screen" href="assets/css/theme.min.css">
</head>
<!-- Body-->

<body>
<!-- Page loading spinner-->
<div class="page-loading active">
  <div class="page-loading-inner">
    <div class="page-spinner"></div><span>Loading...</span>
  </div>
</div>
<!-- Page wrapper-->
<main class="page-wrapper">
  <!-- Search modal-->
  <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" data-focus-input="#search">
    <div class="modal-dialog modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header d-block position-relative border-0 pb-3">
          <form class="position-relative w-100 mt-2 mb-4">
            <button class="btn-close position-absolute top-50 end-0 translate-middle-y m-0 me-n1" type="reset"
                    data-bs-dismiss="modal"></button><i
                  class="ai-search fs-xl position-absolute top-50 start-0 translate-middle-y ms-3"></i>
            <input onchange="triggerInquire(this.value)" class="form-control form-control-lg px-5" type="text"
                   placeholder="輸入搜尋" data-focus-on-open="[&quot;modal&quot;, &quot;#searchModal&quot;]">
          </form>
          <div class="fs-xs fw-medium text-muted text-uppercase">搜尋</div>
        </div>
        <div id="productInquery" class="modal-body pt-3">
        </div>
      </div>
    </div>
  </div>
  <!-- Cart offcanvas-->
  <div class="offcanvas offcanvas-end py-2 p-sm-4 p-md-5" id="cartOffcanvas" style="width: 680px;">
    <!-- Title-->
    <div id="canvas" class="px-4 pt-3">
      <div class="d-flex justify-content-between align-items-center border-bottom pb-3 pb-sm-4">
        <h2 class="offcanvas-title d-flex align-items-center mb-1">購物車 <span
                class="fs-base fw-normal text-muted ms-3">(3 items)</span></h2>
        <button class="btn-close mb-1 me-n1" type="button" data-bs-dismiss="offcanvas"
                data-bs-target="#cartOffcanvas"></button>
      </div>
    </div>
    <div id="cartBody" class="offcanvas-body">
    </div>
    <!-- Coupon input + total-->
    <div id="totalPrice" class="px-4 pb-3 pb-sm-4 pb-sm-5">
      <div class="d-sm-flex align-items-center border-top pt-4">
        <div style="padding-left: 60%;" class="d-flex align-items-center justify-content-center"><span
                style="width: 80px;" class="fs-xl me-3">總計:</span><span class="h3 mb-0">$92.00</span></div>
      </div>
    </div>
    <!-- Action buttons-->
    <div class="d-flex align-items-center justify-content-between px-4 pb-3">
      <div class="nav d-none d-sm-block"><a class="nav-link fw-semibold px-0" href="#cartOffcanvas"
                                            data-bs-dismiss="offcanvas"><i class="ai-chevron-left fs-xl me-2"></i>返回</a></div><a
            class="btn btn-lg btn-primary w-100 w-sm-auto" href="shop-checkout.html">結帳<i
            class="ai-chevron-right ms-2 me-n1"></i></a>
    </div>
  </div>
  <!-- Navbar. Remove 'fixed-top' class to make the navigation bar scrollable with the page-->
  <header class="navbar navbar-expand-lg fixed-top navbar-ignore-dark-mode ignore-dark-mode" style="background-color: white;">
    <div class="container"><a class="navbar-brand pe-sm-3" href="/ezdom/ezdomindex.html"><span
            class="text-primary flex-shrink-0 me-2">
                    <svg version="1.1" width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">
                        <path fill="currentColor"
                              d="M35.6,29c-1.1,3.4-5.4,4.4-7.9,1.9c-2.3-2.2-6.1-3.7-9.4-3.7c-3.1,0-7.5,1.8-10,4.1c-2.2,2-5.8,1.5-7.3-1.1c-1-1.8-1.2-4.1,0-6.2l0.6-1.1l0,0c0.6-0.7,4.4-5.2,12.5-5.7c0.5,1.8,2,3.1,3.9,3.1c2.2,0,4.1-1.9,4.1-4.2s-1.8-4.2-4.1-4.2c-2,0-3.6,1.4-4,3.3H7.7c-0.8,0-1.3-0.9-0.9-1.6l5.6-9.8c2.5-4.5,8.8-4.5,11.3,0L35.1,24C36,25.7,36.1,27.5,35.6,29z">
                        </path>
                    </svg></span>EZ-DOM</a>
      <div class="nav align-items-center order-lg-3 ms-n1 me-3 me-sm-0"><a onclick="triggerClick()"
                                                                           class="nav-link fs-4 p-2 mx-sm-1" href="#searchModal" data-bs-toggle="modal"><i class="ai-search"></i></a><a
              class="nav-link fs-4 p-2 mx-sm-1 d-none d-sm-flex" href="/ezdom/frontendshop/shop-account-orders.html"><i class="ai-user"></i></a><a
              class="nav-link position-relative fs-4 p-2" href="#cartOffcanvas" onclick="showCart()"
              data-bs-toggle="offcanvas"><i class="ai-cart"></i><span id="badgeElement"
                                                                      class="badge bg-primary fs-xs position-absolute end-0 top-0 me-n1"
                                                                      style="padding: .25rem .375rem;">3</span></a>
      </div>
      <button class="navbar-toggler ms-sm-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span
              class="navbar-toggler-icon"></span></button>
      <nav class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav navbar-nav-scroll me-auto" style="--ar-scroll-height: 520px;">
          <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                           data-bs-auto-close="outside" aria-expanded="false">揪團</a>
            <ul class="dropdown-menu">
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/group/grouplist.html">揪團列表</a></li>
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/group/mygroup.html">My揪團</a></li>
              <li class="dropdown" style="border-bottom: none;"><a class="dropdown-item dropdown-toggle"
                                                                   href="#" data-bs-toggle="dropdown" aria-expanded="false">開團管理</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="/ezdom/groupcreate/groupcreate.html">建立揪團</a></li>
                  <li><a class="dropdown-item" href="/ezdom/groupcreate/groupCreateVerify.html">管理開團</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                           data-bs-auto-close="outside" aria-expanded="false">商城</a>
            <ul class="dropdown-menu">
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendshop/shop-catalog.html">瀏覽商品</a></li>
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendshop/shop-account-orders.html">管理我的訂單</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                           data-bs-auto-close="outside" aria-expanded="false">論壇</a>
            <ul class="dropdown-menu">
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendforum/forum.html">論壇</a></li>
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendforum/forum-mypost.html">我的論壇</a></li>
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendforum/forum-post.html">發文</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                           data-bs-auto-close="outside" aria-expanded="false">預約</a>
            <ul class="dropdown-menu">
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendreserve/reserve-memberlist.html">預約管理</a></li>
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendcoach/coach-list.html">瀏覽教練</a></li>
              <li class="dropdown"><a id="link" class="dropdown-item" href="/ezdom/frontendcoach/coach-details.html?coachId=">教練專區</a></li>

            </ul>
          </li>
          <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                           data-bs-auto-close="outside" aria-expanded="false">會員中心</a>
            <ul class="dropdown-menu">
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendmember/account-overview.html">我的頁面</a></li>
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendmember/account-settings.html">個人設定</a></li>
              <li class="dropdown"><a class="dropdown-item" href="/ezdom/message/messagePrivate.html">聊天室</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown"><a class="nav-link " href="/ezdom/frontendsupport/support.html"
                                           aria-expanded="false">聯絡客服</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
  <!-- Page content-->
  <div class="container py-5 mt-5 mb-lg-4 mb-xl-5">
    <!-- Breadcrumb-->
    <nav aria-label="breadcrumb">
      <ol class="pt-lg-3 pb-2 breadcrumb">
        <li class="breadcrumb-item"><a href="/ezdom/ezdomindex.html">首頁</a></li>
        <li class="breadcrumb-item active" aria-current="page">商品一覽</li>
      </ol>
    </nav>

    <!-- ===========================廣告============================================================================== -->
    <!-- Slider with fade transition between slides -->
    <!-- Slider with fade transition between slides -->
    <section class="container pt-5 mt-lg-3 mt-xl-4 mt-xxl-5">
      <!-- Slider with fade transition between slides -->
      <div class="swiper-container" id="mySwiper" style="height: 300px; border-radius: 15px;overflow:hidden;" data-swiper-options='{
        "effect": "fade",
        "loop": true,
        "navigation": {
          "prevEl": ".btnap",
          "nextEl": ".btnan"
        },
        "autoplay": {
          "delay": 4000,
          "disableOnInteraction": false
        }
    }'>
        <div class="swiper-wrapper" id="swiperWrapper">

          <!-- Item -->

        </div>

        <!-- Prev button -->
        <button type="button" class="btnap btn btn-prev btn-icon btn-sm btn-outline-primary rounded-circle">
          <i class="ai-arrow-left"></i>
        </button>

        <!-- Next button -->
        <button type="button" class="btnan btn btn-next btn-icon btn-sm btn-outline-primary rounded-circle">
          <i class="ai-arrow-right"></i>
        </button>
      </div>
    </section>

    <!-- ================================================================================ -->

    <!-- Page title-->
    <div class="row pt-xl-3 mt-n1 mt-sm-0">
      <div class="col-lg-9 offset-lg-3 pt-lg-3">
        <h1 class="pb-2 pb-sm-3">商品特賣</h1>
      </div>
    </div>
    <div class="row pb-2 pb-sm-4">
      <!-- Sidebar (offcanvas on sreens < 992px)-->
      <aside class="col-lg-3">
        <div class="offcanvas-lg offcanvas-start" id="shopSidebar">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title">Filters</h5>
            <button class="btn-close" type="button" data-bs-dismiss="offcanvas"
                    data-bs-target="#shopSidebar"></button>
          </div>
          <div class="offcanvas-body pt-2 pt-lg-0 pe-lg-4">
            <!-- Categories (accordion with checkboxes)-->
            <h3 class="h5">商品分類</h3>
            <div class="accordion accordion-alt pb-2 mb-4" id="shopCategories">
              <div class="accordion-item mb-0">
                <h4 class="accordion-header">
                  <button class="accordion-button active-button fs-xl fw-medium py-2" type="button"
                          data-bs-toggle="collapse" data-bs-target="#livingRoom" aria-expanded="true"
                          aria-controls="livingRoom"><span class="fs-base" onclick="showProduct(1)">全部商品</span></button>
                </h4>
              </div>
              <div class="accordion-item mb-0">
                <h4 class="accordion-header">
                  <button class="accordion-button fs-xl fw-medium py-2" type="button" data-bs-toggle="collapse"
                          data-bs-target="#livingRoom" aria-expanded="true" aria-controls="livingRoom"><span class="fs-base"
                                                                                                             onclick="sortProduct(1,1)">健身器材</span></button>
                </h4>
              </div>
              <div class="accordion-item mb-0">
                <h4 class="accordion-header">
                  <button class="accordion-button collapsed fs-xl fw-medium py-2" type="button"
                          data-bs-toggle="collapse" data-bs-target="#kitchen" aria-expanded="false"
                          aria-controls="kitchen"><span class="fs-base" onclick="sortProduct(1,2)">戶外運動用品</span></button>
                </h4>
              </div>
              <div class="accordion-item mb-0">
                <h4 class="accordion-header">
                  <button class="accordion-button collapsed fs-xl fw-medium py-2" type="button"
                          data-bs-toggle="collapse" data-bs-target="#bathroom" aria-expanded="false"
                          aria-controls="bathroom"><span class="fs-base" onclick="sortProduct(1,3)">球類運動用品</span></button>
                </h4>
              </div>
              <div class="accordion-item mb-0">
                <h4 class="accordion-header">
                  <button class="accordion-button collapsed fs-xl fw-medium py-2" type="button"
                          data-bs-toggle="collapse" data-bs-target="#bedroom" aria-expanded="false"
                          aria-controls="bedroom"><span class="fs-base" onclick="sortProduct(1,4)">水上運動用品</span></button>
                </h4>
              </div>
              <div class="accordion-item mb-0">
                <h4 class="accordion-header">
                  <button class="accordion-button collapsed fs-xl fw-medium py-2" type="button"
                          data-bs-toggle="collapse" data-bs-target="#bedroom" aria-expanded="false"
                          aria-controls="bedroom"><span class="fs-base" onclick="sortProduct(1,5)">運動服飾與鞋款</span></button>
                </h4>
              </div>
              <div class="accordion-item mb-0">
                <h4 class="accordion-header">
                  <button class="accordion-button collapsed fs-xl fw-medium py-2" type="button"
                          data-bs-toggle="collapse" data-bs-target="#bedroom" aria-expanded="false"
                          aria-controls="bedroom"><span class="fs-base"
                                                        onclick="sortProduct(1,6)">運動食品與營養補充品</span></button>
                </h4>
              </div>
            </div>
            <!-- Brand (checkboxes)-->
            <div class="pb-2">
            </div>
          </div>
        </div>
      </aside>
      <!-- Product grid-->
      <div class="col-lg-9">
        <!-- Active filters + Sorting-->
        <div style="height:0" class="d-flex align-items-start justify-content-between mb-4">
          <div class="d-flex align-items-center flex-shrink-0 mb-2">
          </div>
        </div>
        <div id="showProduct" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
        </div>
        <!-- Pagination-->
        <div class="row gy-3 align-items-center pt-3 pt-sm-4 mt-md-2">
          <div class="col col-md-4 col-6 order-md-1 order-1"></div>
          <div class="col col-md-4 col-12 order-md-2 order-3 text-center">
            <button class="btn btn-primary w-md-auto w-100" type="button">載入更多商品</button>
          </div>
          <div class="col col-md-4 col-6 order-md-3 order-2">
            <nav aria-label="Page navigation">
              <ul id="productPage" class="pagination pagination-sm justify-content-end">
                <li class="page-item active" aria-current="page"><span class="page-link">1<span
                        class="visually-hidden">(current)</span></span></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#">4</a></li>
                <li class="page-item"><a class="page-link" href="#">5</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Sidebar toggle button-->
  <button class="d-lg-none btn btn-sm fs-sm btn-primary w-100 rounded-0 fixed-bottom" data-bs-toggle="offcanvas"
          data-bs-target="#shopSidebar"><i class="ai-filter me-2"></i>Filters</button>
</main>
<footer class="footer bg-secondary py-5">
  <div class="container pt-1 pt-sm-2 pt-md-3 pt-lg-4 pt-xl-5">
    <div class="border-bottom text-center pb-4"><a class="navbar-brand d-inline-flex text-nav py-0 mb-3 mb-md-4"
                                                   href="index.html"><span class="text-primary flex-shrink-0 me-2">
            <svg version="1.1" width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">
              <path fill="currentColor"
                    d="M35.6,29c-1.1,3.4-5.4,4.4-7.9,1.9c-2.3-2.2-6.1-3.7-9.4-3.7c-3.1,0-7.5,1.8-10,4.1c-2.2,2-5.8,1.5-7.3-1.1c-1-1.8-1.2-4.1,0-6.2l0.6-1.1l0,0c0.6-0.7,4.4-5.2,12.5-5.7c0.5,1.8,2,3.1,3.9,3.1c2.2,0,4.1-1.9,4.1-4.2s-1.8-4.2-4.1-4.2c-2,0-3.6,1.4-4,3.3H7.7c-0.8,0-1.3-0.9-0.9-1.6l5.6-9.8c2.5-4.5,8.8-4.5,11.3,0L35.1,24C36,25.7,36.1,27.5,35.6,29z">
              </path>
            </svg></span><span>EZ-DOM</span></a>
      <ul class="nav justify-content-center py-1 pb-sm-2">
        <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Classes</a></li>
        <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Trainers</a></li>
        <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Schedule</a></li>
        <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Pricing</a></li>
        <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Contact</a></li>
      </ul>
    </div>
    <div class="d-sm-flex align-items-center justify-content-between pt-4 mt-2 mt-sm-0">
      <div class="d-flex justify-content-center order-sm-2 mb-4 mb-sm-0"><a
              class="btn btn-icon btn-sm btn-secondary btn-instagram rounded-circle me-3" href="#"><i
              class="ai-instagram"></i></a><a class="btn btn-icon btn-sm btn-secondary btn-facebook rounded-circle me-3"
                                              href="#"><i class="ai-facebook"></i></a><a
              class="btn btn-icon btn-sm btn-secondary btn-youtube rounded-circle" href="#"><i class="ai-youtube"></i></a>
      </div>
      <p class="fs-sm order-sm-1 text-center mb-0"><span class="opacity-70">&copy; All rights reserved. Made by
          </span><a class="nav-link d-inline fw-normal p-0" href="https://createx.studio/" target="_blank"
                    rel="noopener">Createx Studio</a></p>
    </div>
  </div>
</footer>
<!-- Back to top button--><a class="btn-scroll-top" href="#top" data-scroll>
  <svg viewBox="0 0 40 40" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <circle cx="20" cy="20" r="19" fill="none" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10">
    </circle>
  </svg><i class="ai-arrow-up"></i></a>
<!-- Vendor scripts: js libraries and plugins-->
<script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script src="assets/vendor/nouislider/dist/nouislider.min.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<!-- Main theme script-->
<script src="assets/js/theme.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>

<!-- 引入 SweetAlert2 的 JavaScript 文件 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

<script>
  // 取得所有標有 "accordion-button" class 的按鈕元素
  const accordionButtons = document.querySelectorAll('.accordion-button');

  // 為每個按鈕添加點擊事件監聽器
  accordionButtons.forEach(button => {
    button.addEventListener('click', () => {
      // 移除所有按鈕的 "active-button" class
      accordionButtons.forEach(btn => btn.classList.remove('active-button'));
      // 為被點擊的按鈕添加 "active-button" class
      button.classList.add('active-button');
    });
  });

  //分類按鈕
  function sortProduct(value, categoryId) {
    let showProduct = document.getElementById("showProduct");
    let html = "";
    fetch(`/ezdom/frontend/product/sort?value=${value}&categoryId=${categoryId}`)
          .then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.json();
          }
        }).then(body => {
        for (let list of body) {
          let { productName, productDiscountPrice, productImage, productId } = list;
          html += `
        <div class="col pb-2 pb-sm-3">
            <div class="card-hover position-relative bg-secondary rounded-1 p-3 mb-4">
              <button
                class="btn btn-icon btn-sm btn-light bg-light border-0 rounded-circle position-absolute top-0 end-0 mt-3 me-3 zindex-5 opacity-0"
                type="button"><i class="ai-heart fs-xl d-dark-mode-none"></i><i
                  class="ai-heart text-nav fs-xl d-none d-dark-mode-block"></i></button>
              <div class="swiper swiper-nav-onhover"
                data-swiper-options="{&quot;loop&quot;: true, &quot;navigation&quot;: {&quot;prevEl&quot;: &quot;.btn-prev&quot;, &quot;nextEl&quot;: &quot;.btn-next&quot;}}">
                <a class="swiper-wrapper" href="shop-single.html?productId=${productId}">
                  <div style="min-height: 250px;" class="swiper-slide p-2 p-xl-4"><img class="d-block mx-auto"
                    src="data:image/jpeg;base64,${productImage}" style="max-width: 100%;max-height:180px"  alt="Product"></div>
                </a>
              </div>
            </div>
            <div class="d-flex mb-1">
              <h3 class="h6 mb-0"><a href="shop-single.html">${productName}</a></h3>
            </div>
            <div class="d-flex align-items-center"><span class="me-2">$${productDiscountPrice}</span>
              <div class="nav ms-auto" data-bs-toggle="tooltip"
                data-bs-template="&lt;div class=&quot;tooltip fs-xs&quot; role=&quot;tooltip&quot;&gt;&lt;div class=&quot;tooltip-inner bg-light text-muted p-0&quot;&gt;&lt;/div&gt;&lt;/div&gt;"
                data-bs-placement="left" title="Add to cart"><a onclick="addCart(${productId})" class="nav-link fs-lg py-2 px-1" style="cursor:pointer"><i
                    class="ai-cart"></i></a></div>
            </div>
          </div>
        `;

        }
        showProduct.innerHTML = html;
        sortPage(categoryId);
      })
  }


  //輪播圖
  // var swiper = new Swiper('.swiper', JSON.parse($('.swiper').attr('data-swiper-options')));
  //前台商品抓取
  function showProduct(value) {
    let showProduct = document.getElementById("showProduct");
    let html = "";
    fetch(`/ezdom/frontend/product/show/${value}`)
          .then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.json();
          }
        })
      .then(body => {
        for (let list of body) {

          let { productName, productDiscountPrice, productImage, productId } = list;
          html += `
        <div class="col pb-2 pb-sm-3">
            <div class="card-hover position-relative bg-secondary rounded-1 p-3 mb-4">
              <button
                class="btn btn-icon btn-sm btn-light bg-light border-0 rounded-circle position-absolute top-0 end-0 mt-3 me-3 zindex-5 opacity-0"
                type="button"><i class="ai-heart fs-xl d-dark-mode-none"></i><i
                  class="ai-heart text-nav fs-xl d-none d-dark-mode-block"></i></button>
              <div class="swiper swiper-nav-onhover"
                data-swiper-options="{&quot;loop&quot;: true, &quot;navigation&quot;: {&quot;prevEl&quot;: &quot;.btn-prev&quot;, &quot;nextEl&quot;: &quot;.btn-next&quot;}}">
                <a class="swiper-wrapper" href="shop-single.html?productId=${productId}">
                  <div style="min-height: 250px;;" class="swiper-slide p-2 p-xl-4"><img class="d-block mx-auto"
                    src="data:image/jpeg;base64,${productImage}" style="max-width: 100%;max-height:180px"  alt="Product"></div>
                </a>
              </div>
            </div>
            <div class="d-flex mb-1">
              <h3 class="h6 mb-0"><a href="shop-single.html?productId=${productId}">${productName}</a></h3>
            </div>
            <div class="d-flex align-items-center"><span class="me-2">$${productDiscountPrice}</span>
              <div class="nav ms-auto" data-bs-toggle="tooltip"
                data-bs-template="&lt;div class=&quot;tooltip fs-xs&quot; role=&quot;tooltip&quot;&gt;&lt;div class=&quot;tooltip-inner bg-light text-muted p-0&quot;&gt;&lt;/div&gt;&lt;/div&gt;"
                data-bs-placement="left" title="Add to cart"><a onclick="addCart(${productId})" class="nav-link fs-lg py-2 px-1" style="cursor:pointer"><i
                    class="ai-cart"></i></a></div>
            </div>
          </div>
        `;

        }
        showProduct.innerHTML = html;
        page();
      })
  }
  //全部商品前台分頁1234
  let productPage = document.getElementById("productPage");
  function page() {
    fetch(`/ezdom/frontend/product/total`)
          .then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.json();
          }
        })
      .then(body => {
        let count = Math.ceil(body / 12);
        let html = "";
        for (let i = 1; i <= count; i++) {
          html += `
      <li class="page-item"><a class="page-link" href="#" onclick="showProduct(${i})" >${i}</a></li>
      `
        }
        productPage.innerHTML = html;
      })
  }

  //分類得分頁
  function sortPage(categoryId) {
    fetch(`/ezdom/frontend/product/sortPage?categoryId=${categoryId}`)
          .then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.json();
          }
        })
      .then(body => {
        let count = Math.ceil(body / 12);
        let html = "";
        for (let i = 1; i <= count; i++) {
          html += `
      <li class="page-item"><a class="page-link" href="#" onclick="sortProduct(${i},${categoryId})">${i}</a></li>
      `
        }
        productPage.innerHTML = html;
      })

  }
  //加入購物車

  function addCart(productId) {
    let quantity = 1;
    fetch(`/ezdom/frontend/carts/add?productId=${productId}&quantity=${quantity}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
    }).then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.text();
          }
        }).then(body => {
        Swal.fire({
          icon: 'success',
          title: '新增成功',
          text: '商品已加入購物車！',
          confirmButtonText: '確定',
          focusConfirm: true
        });
        showCart();
      })
  }
  //商品刪除
  function reduceCart(productId, quantity) {
    fetch(`/ezdom/frontend/carts/reduce?productId=${productId}&quantity=${quantity}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
    }).then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.json();
          }
        }).then(body => {
        let { message } = body;
        Swal.fire({
          icon: 'success',
          title: '操作成功',
          text: `${message}`,
          confirmButtonText: '確定',
          focusConfirm: true
        });
        showCart();
      })
  }


  //購物車列表
  let cartBody = document.getElementById("cartBody");
  let canvas = document.getElementById("canvas");
  let totalPrice = document.getElementById("totalPrice");
  const badgeElement = document.getElementById("badgeElement");
  function showCart() {
    fetch(`/ezdom/frontend/carts/list`)
          .then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.json();
          }
        })
      .then(body => {
        let { cartTotalPrice, cartTotalQuantity, cartProductVoList } = body;
        let html = "";
        let canvashtml = "";
        let totalPricehtml = "";
        totalPricehtml = `
<div class="d-sm-flex align-items-center border-top pt-4">
      <div style="padding-left: 60%;" class="d-flex align-items-center justify-content-center"><span
          style="width: 80px;" class="fs-xl me-3">總計:</span><span class="h3 mb-0">$${cartTotalPrice}</span></div>
</div>
`;
        canvashtml = `
<div class="d-flex justify-content-between align-items-center border-bottom pb-3 pb-sm-4">
      <h2 class="offcanvas-title d-flex align-items-center mb-1">購物車 <span
          class="fs-base fw-normal text-muted ms-3">(購物車商品總數:${cartTotalQuantity}個)</span></h2>
      <button class="btn-close mb-1 me-n1" type="button" data-bs-dismiss="offcanvas"
        data-bs-target="#cartOffcanvas"></button>
    </div>
`;
        for (let cartProductVo of cartProductVoList) {
          let { productId, quantity, productName, productMainImage, productPrice, productStatus } = cartProductVo;
          html += `
  <div class="d-sm-flex align-items-center border-top py-4"><a
        class="d-inline-block flex-shrink-0 bg-secondary rounded-1 p-sm-2 p-md-3 mb-2 mb-sm-0"
        href="shop-single.html?productId=${productId}"><img src="data:image/jpeg;base64,${productMainImage}" width="110" alt="Product"></a>
      <div class="w-100 pt-1 ps-sm-4">
        <div class="d-flex">
          <div class="me-3">
            <h3 class="h5 mb-2"><a href="shop-single.html?productId=${productId}">${productName}</a></h3>
          </div>
          <div class="text-end ms-auto">
            <div class="fs-5 mb-2">單價:$${productPrice}</div>
          </div>
        </div>
        <div class="count-input ms-n3">
          <button class="btn btn-icon fs-xl" type="button" data-decrement onclick="reduceCart(${productId})">-</button>
          <input class="form-control" type="number" value="${quantity}" readonly>
          <button class="btn btn-icon fs-xl" type="button" data-increment onclick="addCart(${productId})">+</button>
        </div>
        <div class="nav justify-content-end mt-n5 mt-sm-n3"><a class="nav-link fs-xl p-2" href="#"
            data-bs-toggle="tooltip" title="Remove" onclick="deleteCartProduct(${productId})"><i class="ai-trash"></i></a></div>
      </div>
    </div>
  `;
        }
        //商品內容
        cartBody.innerHTML = html;
        //購物車title
        canvas.innerHTML = canvashtml;
        //購物車總價
        totalPrice.innerHTML = totalPricehtml;
        //購物車外部數量
        badgeElement.textContent = cartTotalQuantity;
      })
  }

  function deleteCartProduct(productId) {
    Swal.fire({
      icon: 'question',
      title: '確認',
      text: '您確定要刪除嗎？',
      confirmButtonText: '確定',
      showCancelButton: true,
      cancelButtonText: '取消'
    }).then((result) => {
      if (result.isConfirmed) {
        fetch(`/ezdom/frontend/carts/delete/${productId}`, {
          method: 'DELETE',
          headers: {
            'Content-Type': 'application/json'
            // Add other headers if needed
          }
        }).then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.json();
          }
        }).then(body => {
            let { successful, message } = body;
            if (successful) {
              showCart();
            } else {
              Swal.fire({
                icon: 'error',
                title: '錯誤',
                text: '操作失敗',
                confirmButtonText: '確定'
              });
            }
          })
      }
    })
  }
 //幻燈片

let lastAdId;

  $(document).ready(function () {
  // 取得圖片的函數
  function loadImage(adId) {
    return new Promise(function (resolve, reject) {
      const imageSrc = `/ezdom/ads/getAdImage/${adId}`;
      const img = new Image();
      img.src = imageSrc;
      img.onload = function () {
        resolve(img);
      };
      img.onerror = function () {
        reject("載入圖片失敗");
      };
    });
  }

  // 初始化Swiper
  var mySwiper = new Swiper('.swiper-container', {
    // 自動播放配置
    autoplay: {
      delay: 3000, // 自動播放間隔，單位為毫秒
      disableOnInteraction: false, // 用戶操作後是否停止自動播放
    },
    // 循環播放
    on: {
    slideChange: function () {
      // 获取当前幻灯片的id属性
      const currentSlideId = $(".swiper-slide-active img").attr("id");
      // 检查是否需要切回第一张幻灯片
      if (currentSlideId === lastAdId.toString()) {
        mySwiper.slideTo(0); // 切换到第一张幻灯片
      }
    }
  }
});

  // 發起Ajax請求並新增廣告項目
  function loadAds() {
    $.ajax({
      url: "/ezdom/ads/getTodaysAds",
      type: "GET",
      dataType: "json",
      success: async function (adIds) {
        for (const adId of adIds) {
          try {
            lastAdId = adIds[adIds.length - 1];
            const image = await loadImage(adId);
            // 創建新的幻燈片項目
            const slide = $("<div>", {
              "class": "swiper-slide bg-light",
            });
            // 創建圖像元素並設置屬性
            const imgElement = $("<img>", {
              "src": image.src,
              "alt": "廣告圖片",
              "id": adId,
            });

            // click event
            imgElement.on("click", function () {
              // get productId
              $.ajax({
                url: `/ezdom/ads/get/${adId}`,
                type: "GET",
                dataType: "json",
                success: function (data) {
                  const productId = data.productId;
                  const productDetailUrl = `/ezdom/frontendshop/shop-single.html?productId=${productId}`;

                  window.location.href = productDetailUrl;
                },
                error: function () {
                  console.error(`fail to get adId ${adId}`);
                },
              });
            });

            // 將圖像新增到幻燈片項目中
            slide.append(imgElement);
            // 將幻燈片項目新增到幻燈片容器
            $(".swiper-wrapper").append(slide);
            // 更新Swiper，以便它知道新的幻燈片已新增
            mySwiper.update();
          } catch (error) {
            console.error("載入圖片失敗:", error);
          }
        }
      },
      error: function () {
        console.error("無法取得今天的廣告ID列表");
      }
    });
  }

  // 載入廣告
  loadAds();

  // 上一張按鈕點擊事件
  $(".btn-prev").on("click", function () {
    mySwiper.slidePrev(); // 切換到上一張幻燈片
  });

  // 下一張按鈕點擊事件
  $(".btn-next").on("click", function () {
    mySwiper.slideNext(); // 切換到下一張幻燈片
  });
});

  //點搜尋介面 蒐集全部上架商品
  function triggerClick() {
    fetch(`/ezdom/frontend/product/get`)
      .then(response => {
      }).then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          }
        }).catch(error => {
        console.error('發生錯誤：', error);
      });
  }
  let productInquery=document.getElementById("productInquery");
  //依照文字去抓取相對應的商品
  function triggerInquire(inputValue) {
    fetch(`/ezdom/frontend/product/find?name=${inputValue}`)
            .then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.json();
          }
        }).then(body=>{
      let html="";
      for (let list of body){
        let{productId,productName,productOriginPrice,productDiscountPrice,productImage}=list;
        html+=`
        <div class="d-flex align-items-center border-bottom pb-4 mb-4"><a
              class="position-relative d-inline-block flex-shrink-0 bg-secondary rounded-1"
              href="shop-single.html?productId=${productId}"><span
                class="badge bg-success position-absolute top-0 start-100 translate-middle ms-n1">Shop</span><img
                src="data:image/jpeg;base64,${productImage}" width="90" alt="Product"></a>
            <div class="ps-3">
              <h4 class="h6 mb-2"><a href="shop-single.html?productId=${productId}">${productName}</a></h4><span
                class="mb-0 me-2">$${productDiscountPrice}</span>
              <del class="fs-sm text-muted ms-auto">$${productOriginPrice}</del>
            </div>
          </div>
        `;
      }
      productInquery.innerHTML=html;
    })
  }

  // ====================== 取得登入的session資訊 ====================== //
const s_req = '/ezdom/frontend/session';
let session;
let memberId = null;
let coachId = null;
async function getSession(){
	let response = await fetch(s_req);
    session = await response.json();
    console.log(session);
    memberId = session.memberId;
    if(null !== session.coachId){
        coachId = session.coachId;
    }

    let link = document.querySelector("#link");
    if(null !== coachId){
    console.log("1:" + coachId);
      link.setAttribute("href", `/ezdom/frontendcoach/coach-details.html?coachId=${coachId}`);
    } else if (null === coachId){
    console.log("2:" + coachId);
      link.setAttribute("href", `/ezdom/frontendcoach/coach-signup.html`);
      link.textContent = "註冊教練";
    }
}
  getSession();
  showProduct(1);
  showCart();

</script>


</body>

</html>