<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Around | Forum</title>
    <!-- SEO Meta Tags-->
    <meta name="description" content="Around - Multipurpose Bootstrap HTML Template">
    <meta name="keywords"
          content="bootstrap, business, corporate, coworking space, services, creative agency, dashboard, e-commerce, mobile app showcase, saas, multipurpose, product landing, shop, software, ui kit, web studio, landing, dark mode, html5, css3, javascript, gallery, slider, touch, creative">
    <meta name="author" content="Createx Studio">
    <!-- Viewport-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon and Touch Icons-->
    <link rel="apple-touch-icon" sizes="180x180" href="../frontendshop/assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../frontendshop/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../frontendshop/assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="../frontendshop/assets/favicon/site.webmanifest">
    <link rel="mask-icon" color="#6366f1" href="../frontendshop/assets/favicon/safari-pinned-tab.svg">
    <meta name="msapplication-TileColor" content="#080032">
    <meta name="msapplication-config" content="../frontendshop/assets/favicon/browserconfig.xml">
    <meta name="theme-color" content="white">
    <!-- Theme mode-->
    <script>
        let mode = window.localStorage.getItem('mode'),
          root = document.getElementsByTagName('html')[0];
        if (mode !== undefined && mode === 'dark') {
          root.classList.add('dark-mode');
        } else {
          root.classList.remove('dark-mode');
        }


    </script>
    <!-- Page loading styles-->
    <style>
        .page-loading {
          position: fixed;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
          width: 100%;
          height: 100%;
          -webkit-transition: all .4s .2s ease-in-out;
          transition: all .4s .2s ease-in-out;
          background-color: #fff;
          opacity: 0;
          visibility: hidden;
          z-index: 9999;
        }

        .dark-mode .page-loading {
          background-color: #121519;
        }

        .page-loading.active {
          opacity: 1;
          visibility: visible;
        }

        .page-loading-inner {
          position: absolute;
          top: 50%;
          left: 0;
          width: 100%;
          text-align: center;
          -webkit-transform: translateY(-50%);
          transform: translateY(-50%);
          -webkit-transition: opacity .2s ease-in-out;
          transition: opacity .2s ease-in-out;
          opacity: 0;
        }

        .page-loading.active>.page-loading-inner {
          opacity: 1;
        }

        .page-loading-inner>span {
          display: block;
          font-family: 'Inter', sans-serif;
          font-size: 1rem;
          font-weight: normal;
          color: #6f788b;
        }

        .dark-mode .page-loading-inner>span {
          color: #fff;
          opacity: .6;
        }

        .page-spinner {
          display: inline-block;
          width: 2.75rem;
          height: 2.75rem;
          margin-bottom: .75rem;
          vertical-align: text-bottom;
          background-color: #d7dde2;
          border-radius: 50%;
          opacity: 0;
          -webkit-animation: spinner .75s linear infinite;
          animation: spinner .75s linear infinite;
        }

        .dark-mode .page-spinner {
          background-color: rgba(255, 255, 255, .25);
        }

        @-webkit-keyframes spinner {
          0% {
            -webkit-transform: scale(0);
            transform: scale(0);
          }

          50% {
            opacity: 1;
            -webkit-transform: none;
            transform: none;
          }
        }

        @keyframes spinner {
          0% {
            -webkit-transform: scale(0);
            transform: scale(0);
          }

          50% {
            opacity: 1;
            -webkit-transform: none;
            transform: none;
          }
        }
    </style>
    <!-- Page loading scripts-->
    <script>
        (function () {
          window.onload = function () {
            const preloader = document.querySelector('.page-loading');
            preloader.classList.remove('active');
            setTimeout(function () {
              preloader.remove();
            }, 1500);
          };
        })();

    </script>
    <!-- Import Google Font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"
          id="google-font">
    <!-- Vendor styles-->
    <!-- Main Theme Styles + Bootstrap-->
    <link rel="stylesheet" media="screen" href="../frontendshop/assets/css/theme.min.css">
</head>
<!-- Body-->

<body>
<!-- Page loading spinner-->
<div class="page-loading active">
    <div class="page-loading-inner">
        <div class="page-spinner"></div><span>Loading...</span>
    </div>
</div>
<!-- Page wrapper-->
<main class="page-wrapper">
    <!-- Navbar. Remove 'fixed-top' class to make the navigation bar scrollable with the page-->
    <header class="navbar navbar-expand-lg fixed-top navbar-ignore-dark-mode ignore-dark-mode">
        <div class="container"><a class="navbar-brand pe-sm-3" href="index.html"><span
                class="text-primary flex-shrink-0 me-2">
            <svg version="1.1" width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">
              <path fill="currentColor"
                    d="M35.6,29c-1.1,3.4-5.4,4.4-7.9,1.9c-2.3-2.2-6.1-3.7-9.4-3.7c-3.1,0-7.5,1.8-10,4.1c-2.2,2-5.8,1.5-7.3-1.1c-1-1.8-1.2-4.1,0-6.2l0.6-1.1l0,0c0.6-0.7,4.4-5.2,12.5-5.7c0.5,1.8,2,3.1,3.9,3.1c2.2,0,4.1-1.9,4.1-4.2s-1.8-4.2-4.1-4.2c-2,0-3.6,1.4-4,3.3H7.7c-0.8,0-1.3-0.9-0.9-1.6l5.6-9.8c2.5-4.5,8.8-4.5,11.3,0L35.1,24C36,25.7,36.1,27.5,35.6,29z">
              </path>
            </svg></span>EZ-DOM</a>
            <div class="form-check form-switch mode-switch order-lg-2 me-3 me-lg-4 ms-auto" data-bs-toggle="mode">
                <input class="form-check-input" type="checkbox" id="theme-mode">
                <label class="form-check-label" for="theme-mode"><i class="ai-sun fs-lg"></i></label>
                <label class="form-check-label" for="theme-mode"><i class="ai-moon fs-lg"></i></label>
            </div><a class="btn btn-primary btn-sm fs-sm order-lg-3 d-none d-sm-inline-flex"
                     href="https://themes.getbootstrap.com/product/around-multipurpose-template-ui-kit/" target="_blank"
                     rel="noopener">登入/註冊</a>
            <button class="navbar-toggler ms-sm-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span
                    class="navbar-toggler-icon"></span></button>
            <nav class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav navbar-nav-scroll me-auto" style="--ar-scroll-height: 520px;">
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">揪團 Group</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">揪團列表</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">My揪團</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">開團管理</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">商城 Shop</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">瀏覽商品</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">購物車</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">管理我的訂單</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">論壇 Forum</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">瀏覽論壇</a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="forum.html">論壇</a></li>
                                    <li><a class="dropdown-item" href="post.html">發文</a></li>
                                </ul>
                            </li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="mypost.html"
                                                    aria-expanded="false">論壇管理</a>

                            </li>

                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">預約 Reserve</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">預約管理</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">瀏覽教練</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">時段管理</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">項目管理</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">自我介紹管理</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">會員中心 Member</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">我的頁面</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">好友管理</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">收藏文章</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">收藏商品</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">個人設定</a></li>
                            <li class="dropdown"><a class="dropdown-item dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                    aria-expanded="false">聊天室</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">聯絡客服 Help</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- Page content-->
    <div class="container pt-5 pb-lg-5 pb-md-4 pb-2 my-5">
        <!-- Breadcrumb-->
        <nav aria-label="breadcrumb">
            <ol class="pt-lg-3 pb-lg-4 pb-2 breadcrumb">
                <li class="breadcrumb-item"><a href="ezdomindex.html">主頁</a></li>
                <li class="breadcrumb-item active" aria-current="page">論壇</li>
            </ol>
        </nav>
        <!-- Page title + filters-->
        <div class="row align-items-center gy-2 mb-4 pb-1 pb-sm-2 pb-lg-3">
            <div class="col-lg-5">
                <h1 class="mb-lg-0">運動論壇</h1>
            </div>
            <div class="col-xl-2 offset-xl-1 col-lg-3 col-sm-5">
                <select id="category-select" class="form-select">
                    <option value="0">全部</option>
                    <option value="1">球類運動</option>
                    <option value="2">室內健身</option>
                    <option value="3">極限運動</option>
                    <option value="4">水上運動</option>
                    <option value="5">格鬥</option>
                    <option value="6">飲食</option>
                </select>
            </div>
            <div class="col-lg-4 col-sm-7">
                <div class="position-relative">
                    <i class="ai-search position-absolute top-50 start-0 translate-middle-y ms-3"></i>
                    <input class="form-control ps-5" type="search" placeholder="輸入關鍵字" id="search-input">
                </div>
            </div>

        </div>
        <!-- Post-->


        <div class="row" id="article-list">
            <!-- 文章列表將在這裡動態生成 -->
        </div>



        <script>
            // 獲取元素
            const categorySelect = document.getElementById('category-select');
            const articleList = document.getElementById('article-list');
            const searchInput = document.getElementById('search-input');

            // 監聽下拉選單和輸入框的變化，並呼叫 fetchAndDisplay 函式
            categorySelect.addEventListener('change', fetchAndDisplay);
            searchInput.addEventListener('input', fetchAndDisplay);

            // 定義 fetchAndDisplay 函式
            function fetchAndDisplay() {
              const selectedStatus = parseInt(categorySelect.value, 10);
              const searchKeyword = searchInput.value.trim().toLowerCase();

              // 使用 fetch 發送 GET 請求，獲取文章列表資料
              fetch(`http://localhost:8080/ezdom/forum/list`)
                .then(response => response.json())
                .then(data => {
                  // 根據選擇的分類和關鍵字過濾文章列表
                  let filteredArticles = selectedStatus === 0
                    ? data
                    : data.filter(article => article.forumPostType === selectedStatus);

                  if (searchKeyword) {
                    filteredArticles = filteredArticles.filter(article =>
                      article.forumPostTitle.toLowerCase().includes(searchKeyword)
                    );
                  }

                  // 呼叫 displayArticles 函式顯示文章列表
                  displayArticles(filteredArticles);
                })
                .catch(error => {
                  console.error('Error fetching articles:', error);
                });
            }

            // 定義 displayArticles 函式
            function displayArticles(articles) {
              articleList.innerHTML = '';

              articles.forEach(article => {
                const articleDiv = document.createElement('div');
                articleDiv.className = 'col-sm-7 col-lg-11';
                const excerpt = article.forumPostContent.substring(0, 50) + "...";
                const postTime = new Date(article.forumPostTime);
                const forumPostDateTime = `${postTime.getMonth() + 1}/${postTime.getDate()}`;
                articleDiv.innerHTML = `
                  <div class="pt-4 pb-sm-4 ps-sm-4 pe-lg-4">
                    <h3><a href="article.html?postId=${article.forumPostId}">${article.forumPostTitle}</a></h3>
                    <div class="d-flex flex-wrap align-items-center mt-n2"><span class="fs-sm text-muted mt-2">${forumPostDateTime}</span></div>
                    <p class="d-sm-none d-md-block">${excerpt}</p>

                    <div class="row">
                      <div class="col-md-12 d-flex justify-content-end">
                        <button type="button" class="btn btn-primary publish-button" onclick="redirectToNewPage()"
                          id="collectButton">收藏</button>
                        <div id="message"></div>
                        <div class="mx-2"></div>
                        <button type="button" class="btn btn-primary publish-button" onclick="redirectToNewPage()">檢舉</button>
                      </div>
                    </div>
                  </div>
                `;
                articleList.appendChild(articleDiv);
              });
            }

            // 初始化時顯示所有文章
            fetchAndDisplay();
        </script>





    </div>
</main>





<!-- Subscription-->

<!-- Footer-->
<footer class="footer bg-secondary py-5">
    <div class="container pt-1 pt-sm-2 pt-md-3 pt-lg-4 pt-xl-5">
        <div class="border-bottom text-center pb-4"><a class="navbar-brand d-inline-flex text-nav py-0 mb-3 mb-md-4"
                                                       href="index.html"><span class="text-primary flex-shrink-0 me-2">
            <svg version="1.1" width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">
              <path fill="currentColor"
                    d="M35.6,29c-1.1,3.4-5.4,4.4-7.9,1.9c-2.3-2.2-6.1-3.7-9.4-3.7c-3.1,0-7.5,1.8-10,4.1c-2.2,2-5.8,1.5-7.3-1.1c-1-1.8-1.2-4.1,0-6.2l0.6-1.1l0,0c0.6-0.7,4.4-5.2,12.5-5.7c0.5,1.8,2,3.1,3.9,3.1c2.2,0,4.1-1.9,4.1-4.2s-1.8-4.2-4.1-4.2c-2,0-3.6,1.4-4,3.3H7.7c-0.8,0-1.3-0.9-0.9-1.6l5.6-9.8c2.5-4.5,8.8-4.5,11.3,0L35.1,24C36,25.7,36.1,27.5,35.6,29z">
              </path>
            </svg></span><span>EZ-DOM</span></a>
            <ul class="nav justify-content-center py-1 pb-sm-2">
                <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Classes</a></li>
                <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Trainers</a></li>
                <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Schedule</a></li>
                <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Pricing</a></li>
                <li class="nav-item"><a class="nav-link py-2 px-3 mx-1" href="#">Contact</a></li>
            </ul>
        </div>
        <div class="d-sm-flex align-items-center justify-content-between pt-4 mt-2 mt-sm-0">
            <div class="d-flex justify-content-center order-sm-2 mb-4 mb-sm-0"><a
                    class="btn btn-icon btn-sm btn-secondary btn-instagram rounded-circle me-3" href="#"><i
                    class="ai-instagram"></i></a><a class="btn btn-icon btn-sm btn-secondary btn-facebook rounded-circle me-3"
                                                    href="#"><i class="ai-facebook"></i></a><a
                    class="btn btn-icon btn-sm btn-secondary btn-youtube rounded-circle" href="#"><i class="ai-youtube"></i></a>
            </div>
            <p class="fs-sm order-sm-1 text-center mb-0"><span class="opacity-70">&copy; All rights reserved. Made by
          </span><a class="nav-link d-inline fw-normal p-0" href="https://createx.studio/" target="_blank"
                    rel="noopener">Createx Studio</a></p>
        </div>
    </div>
</footer>
<!-- Back to top button--><a class="btn-scroll-top" href="#top" data-scroll>
    <svg viewBox="0 0 40 40" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="19" fill="none" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10">
        </circle>
    </svg><i class="ai-arrow-up"></i></a>
<!-- Vendor scripts: js libraries and plugins-->
<script src="../frontendshop/assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="../frontendshop/assets/vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<!-- Main theme script-->
<script src="../frontendshop/assets/js/theme.min.js"></script>
</body>

</html>