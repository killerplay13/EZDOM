<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>EZdom | 設定</title>
    <!-- SEO Meta Tags-->
    <meta name="description" content="Around - Multipurpose Bootstrap HTML Template">
    <meta name="keywords"
          content="bootstrap, business, corporate, coworking space, services, creative agency, dashboard, e-commerce, mobile app showcase, saas, multipurpose, product landing, shop, software, ui kit, web studio, landing, dark mode, html5, css3, javascript, gallery, slider, touch, creative">
    <meta name="author" content="Createx Studio">
    <!-- Viewport-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon and Touch Icons-->
    <link rel="apple-touch-icon" sizes="180x180" href="../frontendshop/assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../frontendshop/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../frontendshop/assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="../frontendshop/assets/favicon/site.webmanifest">
    <link rel="mask-icon" color="#6366f1" href="../frontendshop/assets/favicon/safari-pinned-tab.svg">
    <meta name="msapplication-TileColor" content="#080032">
    <meta name="msapplication-config" content="../frontendshop/assets/favicon/browserconfig.xml">
    <meta name="theme-color" content="white">
    <!-- Theme mode-->
    <script>
        let mode = window.localStorage.getItem('mode'),
          root = document.getElementsByTagName('html')[0];
        if (mode !== undefined && mode === 'dark') {
          root.classList.add('dark-mode');
        } else {
          root.classList.remove('dark-mode');
        }


    </script>
    <!-- Page loading styles-->
    <style>
        .page-loading {
          position: fixed;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
          width: 100%;
          height: 100%;
          -webkit-transition: all .4s .2s ease-in-out;
          transition: all .4s .2s ease-in-out;
          background-color: #fff;
          opacity: 0;
          visibility: hidden;
          z-index: 9999;
        }
    
        .dark-mode .page-loading {
          background-color: #121519;
        }
    
        .page-loading.active {
          opacity: 1;
          visibility: visible;
        }
    
        .page-loading-inner {
          position: absolute;
          top: 50%;
          left: 0;
          width: 100%;
          text-align: center;
          -webkit-transform: translateY(-50%);
          transform: translateY(-50%);
          -webkit-transition: opacity .2s ease-in-out;
          transition: opacity .2s ease-in-out;
          opacity: 0;
        }
    
        .page-loading.active>.page-loading-inner {
          opacity: 1;
        }
    
        .page-loading-inner>span {
          display: block;
          font-family: 'Inter', sans-serif;
          font-size: 1rem;
          font-weight: normal;
          color: #6f788b;
        }
    
        .dark-mode .page-loading-inner>span {
          color: #fff;
          opacity: .6;
        }
    
        .page-spinner {
          display: inline-block;
          width: 2.75rem;
          height: 2.75rem;
          margin-bottom: .75rem;
          vertical-align: text-bottom;
          background-color: #d7dde2;
          border-radius: 50%;
          opacity: 0;
          -webkit-animation: spinner .75s linear infinite;
          animation: spinner .75s linear infinite;
        }
    
        .dark-mode .page-spinner {
          background-color: rgba(255, 255, 255, .25);
        }
    
        @-webkit-keyframes spinner {
          0% {
            -webkit-transform: scale(0);
            transform: scale(0);
          }
    
          50% {
            opacity: 1;
            -webkit-transform: none;
            transform: none;
          }
        }
    
        @keyframes spinner {
          0% {
            -webkit-transform: scale(0);
            transform: scale(0);
          }
    
          50% {
            opacity: 1;
            -webkit-transform: none;
            transform: none;
          }
        }
    </style>
    <!-- Import Google Font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap"
          rel="stylesheet"
          id="google-font">
    <!-- Vendor styles-->
    <!-- Main Theme Styles + Bootstrap-->
    <link rel="stylesheet" media="screen" href="../frontendshop/assets/css/theme.min.css">
    <!-- Swal -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.5/dist/sweetalert2.min.css">
</head>

<!-- 頁首-->

<body>
<main class="page-wrapper">
    <!-- Navbar. Remove 'fixed-top' class to make the navigation bar scrollable with the page-->
    <header class="navbar navbar-expand-lg fixed-top navbar-ignore-dark-mode ignore-dark-mode"
            style="background-color: white;">
        <div class="container"><a class="navbar-brand pe-sm-3" href="/ezdom/ezdomindex.html"><span
                class="text-primary flex-shrink-0 me-2">
                    <svg version="1.1" width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">
                        <path fill="currentColor"
                              d="M35.6,29c-1.1,3.4-5.4,4.4-7.9,1.9c-2.3-2.2-6.1-3.7-9.4-3.7c-3.1,0-7.5,1.8-10,4.1c-2.2,2-5.8,1.5-7.3-1.1c-1-1.8-1.2-4.1,0-6.2l0.6-1.1l0,0c0.6-0.7,4.4-5.2,12.5-5.7c0.5,1.8,2,3.1,3.9,3.1c2.2,0,4.1-1.9,4.1-4.2s-1.8-4.2-4.1-4.2c-2,0-3.6,1.4-4,3.3H7.7c-0.8,0-1.3-0.9-0.9-1.6l5.6-9.8c2.5-4.5,8.8-4.5,11.3,0L35.1,24C36,25.7,36.1,27.5,35.6,29z">
                        </path>
                    </svg></span>EZ-DOM</a>
            <a class="btn btn-primary btn-sm fs-sm order-lg-3 d-none d-sm-inline-flex"
               href="/ezdom/frontendmember/account-overview.html" target="_blank"
               rel="noopener"><i class="ai-user"></i></a>
            <button class="navbar-toggler ms-sm-3" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
            <nav class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav navbar-nav-scroll me-auto" style="--ar-scroll-height: 520px;">
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">揪團</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item"
                                                    href="/ezdom/group/grouplist.html">揪團列表</a></li>
                            <li class="dropdown"><a class="dropdown-item" href="/ezdom/group/mygroup.html">My揪團</a>
                            </li>
                            <li class="dropdown" style="border-bottom: none;"><a class="dropdown-item dropdown-toggle"
                                                                                 href="#" data-bs-toggle="dropdown"
                                                                                 aria-expanded="false">開團管理</a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="/ezdom/groupcreate/groupcreate.html">建立揪團</a>
                                    </li>
                                    <li><a class="dropdown-item"
                                           href="/ezdom/groupcreate/groupCreateVerify.html">管理開團</a></li>
                                </ul>
                            </li>
                            <li class="dropdown"><a class="dropdown-item"
                                                    href="/ezdom/message/messageGroup.html">揪團聊天室</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">商城</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendshop/shop-catalog.html">瀏覽商品</a>
                            </li>
                            <li class="dropdown"><a class="dropdown-item"
                                                    href="/ezdom/frontendshop/shop-account-orders.html">管理我的訂單</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">論壇</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item"
                                                    href="/ezdom/frontendforum/forum.html">論壇</a></li>
                            <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendforum/forum-mypost.html">我的論壇</a>
                            </li>
                            <li class="dropdown"><a class="dropdown-item"
                                                    href="/ezdom/frontendforum/forum-post.html">發文</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">預約</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item"
                                                    href="/ezdom/frontendreserve/reserve-memberlist.html">預約管理</a>
                            </li>
                            <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendcoach/coach-list.html">瀏覽教練</a>
                            </li>
                            <li class="dropdown"><a id="link" class="dropdown-item"
                                                    href="/ezdom/frontendcoach/coach-details.html?coachId=">教練專區</a>
                            </li>

                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                     data-bs-auto-close="outside" aria-expanded="false">會員中心</a>
                        <ul class="dropdown-menu">
                            <li class="dropdown"><a class="dropdown-item"
                                                    href="/ezdom/frontendmember/account-overview.html">我的頁面</a></li>
                            <li class="dropdown"><a class="dropdown-item"
                                                    href="/ezdom/frontendmember/account-settings.html">個人設定</a></li>
                            <li class="dropdown"><a class="dropdown-item"
                                                    href="/ezdom/message/messagePrivate.html">聊天室</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown"><a class="nav-link " href="/ezdom/frontendsupport/support.html"
                                                     aria-expanded="false">聯絡客服</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- 頁首結束-->
    <!-- Page content-->
    <div class="container py-5 mt-4 mt-lg-5 mb-lg-4 my-xl-5">
        <div class="row pt-sm-2 pt-lg-0">

            <!-- Sidebar (offcanvas on sreens < 992px)-->
            <aside class="col-lg-3 pe-lg-4 pe-xl-5 mt-n3">
                <div class="position-lg-sticky top-0">
                    <div class="d-none d-lg-block" style="padding-top: 105px;"></div>
                    <div class="offcanvas-lg offcanvas-start" id="sidebarAccount">
                        <button class="btn-close position-absolute top-0 end-0 mt-3 me-3 d-lg-none" type="button"
                                data-bs-dismiss="offcanvas" data-bs-target="#sidebarAccount"></button>
                        <div class="offcanvas-body">
                            <!-- 加 class -->
                            <div class="rounded-circle bg-size-cover bg-position-center flex-shrink-0 photoDisplay1"
                                 style="width: 80px; height: 80px; background-image: url(/ezdom/frontendshop/image/userPhoto.png);">
                            </div>
                            <br>
                            <div class="nameDisplay1">
                                <!-- 加 class -->
                                <h3 class="h5 mb-1"></h3>
                            </div>
                            <div class="mailDisplay1">
                                <!-- 加 class -->
                                <p class="fs-sm text-muted mb-0"></p>
                            </div>
                            <br>
                            <nav class="nav flex-column pb-1 pb-lg-2 mb-3">
                                <h4 class="fs-xs fw-medium text-muted text-uppercase pb-1 mb-2">會員</h4>
                                <a class="nav-link fw-semibold py-2 px-0" href="account-overview.html">
                                    <i class="ai-user fs-5 opacity-60 me-2"></i>我的頁面
                                </a>
                                <a class="nav-link fw-semibold py-2 px-0 active" href="account-settings.html">
                                    <i class="ai-settings fs-5 opacity-60 me-2"></i>個人設定
                                </a>
                            </nav>
                            <nav class="nav flex-column pb-1 pb-lg-2 mb-3">
                                <h4 class="fs-xs fw-medium text-muted text-uppercase pb-1 mb-2">揪團</h4>
                                <a class="nav-link fw-semibold py-2 px-0" href="../group/mygroup.html">
                                    <i class="ai-user-group fs-5 opacity-60 me-2"></i>我的揪團
                                </a>
                                <a class="nav-link fw-semibold py-2 px-0" href="#">
                                    <i class="ai-user-plus fs-5 opacity-60 me-2"></i>揪團管理
                                </a>
                            </nav>
                            <nav class="nav flex-column pb-1 pb-lg-2 mb-3">
                                <h4 class="fs-xs fw-medium text-muted text-uppercase pb-1 mb-2">論壇</h4>
                                <a class="nav-link fw-semibold py-2 px-0" href="../frontendforum/forum-mypost.html">
                                    <i class="ai-note fs-5 opacity-60 me-2"></i>我的論壇
                                </a>
                            </nav>
                            <nav class="nav flex-column pb-1 pb-lg-2 mb-3">
                                <h4 class="fs-xs fw-medium text-muted text-uppercase pb-1 mb-2">商城</h4>
                                <a class="nav-link fw-semibold py-2 px-0"
                                   href="../frontendshop/shop-account-orders.html">
                                    <i class="ai-edit-alt fs-5 opacity-60 me-2"></i>我的訂單
                                </a>
                            </nav>
                            <nav class="nav flex-column pb-1 pb-lg-2 mb-3">
                                <h4 class="fs-xs fw-medium text-muted text-uppercase pb-1 mb-2">預約</h4>
                                <a class="nav-link fw-semibold py-2 px-0"
                                   href="../frontendreserve/reserve-memberlist.html">
                                    <i class="ai-user-check fs-5 opacity-60 me-2"></i>我的預約
                                </a>
                            </nav>
                            <nav class="nav flex-column pb-1 pb-lg-2 mb-1">
                                <a class="nav-link fw-semibold py-2 px-0" href="../message/messagePrivate.html">
                                    <i class="ai-message fs-5 opacity-60 me-2"></i>聊天室
                                    <span class="badge bg-danger ms-auto"></span>
                                </a>
                                <a class="nav-link fw-semibold py-2 px-0" href="#">
                                    <i class="ai-messages fs-5 opacity-60 me-2"></i>揪團聊天室
                                    <span class="badge bg-danger ms-auto"></span>
                                </a>
                                <br>
                                <a class="nav flex-column"><a class="nav-link fw-semibold py-2 px-0"
                                                              href="account-signin.html" id="logoutBtn"><i
                                        class="ai-logout fs-5 opacity-60 me-2"></i>登出</a>
                                </a>
                            </nav>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Page content-->
            <div class="col-lg-9 pt-4 pb-2 pb-sm-4">
                <h1 class="h2 mb-4">設定</h1>
                <!-- Basic info-->
                <section class="card border-0 py-1 p-md-2 p-xl-3 p-xxl-4 mb-4">
                    <div class="card-body">
                        <div class="d-flex align-items-center mt-sm-n1 pb-4 mb-0 mb-lg-1 mb-xl-3"><i
                                class="ai-user text-primary lead pe-1 me-2"></i>
                            <h2 class="h4 mb-0">基本設定</h2>
                        </div>
                        <div class="d-flex justify-content-end">
                        </div>
                        <!-- 照片 -->
                        <div class="d-flex align-items-center">
                            <div class="dropdown">
                                <a class="d-flex flex-column justify-content-end position-relative overflow-hidden rounded-circle bg-size-cover bg-position-center flex-shrink-0"
                                   href="#" data-bs-toggle="dropdown" aria-expanded="false"
                                   style="width: 80px; height: 80px; background-image: url(../frontendshop/image/userPhoto.png);"
                                   id="prePhoto">
                    <span class="d-block text-light text-center lh-1 pb-1" style="background-color: rgba(0,0,0,.5)">
                      <i class="ai-camera" id="newPhoto"></i>
                    </span>
                                </a>
                                <div class="dropdown-menu my-1">
                                    <a class="dropdown-item fw-normal" id="uploadButton" style="cursor: pointer;">
                                        <i class="ai-camera fs-base opacity-70 me-2"></i>上傳照片
                                    </a>
                                </div>
                            </div>
                            <div class="ps-3">
                                <h3 class="h6 mb-1"></h3>
                            </div>
                        </div>

                        <!-- 文件输入元素 -->
                        <div class="row g-3 g-sm-4 mt-0 mt-lg-2">
                            <div class="col-sm-6">
                                <label class="form-label" for="name">暱稱</label>
                                <input class="form-control" type="text" id="name">
                            </div>
                            <div class="col-sm-6">
                                <label class="form-label" for="memberUid">身分證</label>
                                <input class="form-control" type="text" id="memberUid"
                                       placeholder="請輸入正確身分證格式"
                                       required
                                       oninput="ValidateId()">
                                <p id="idError" style="color: red;"></p>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-label" for="email">信箱</label>
                                <input class="form-control" type="email" id="email"
                                       placeholder="格式 : test@example.com" required
                                       oninput="ValidateMail()">
                                <p id="mailError" style="color: red;"></p>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-label" for="phone">手機</label>
                                <input class="form-control " type="text" id="phone" placeholder="請輸入10碼" required
                                       oninput="ValidatePhone()">
                                <p id="phoneError" style="color: red;"></p>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-label" for="birth">生日</label>
                                <input class="form-control" type="date" id="birth">
                            </div>
                            <div class="col-12 d-sm-flex align-items-center pt-sm-2 pt-md-3" id="selectedGender">
                                <div class="form-label text-muted mb-2 mb-sm-0 me-sm-4">性別:</div>
                                <div class="form-check form-check-inline mb-0">
                                    <input class="form-check-input" type="radio" name="gender" id="male">
                                    <label class="form-check-label" for="male">男</label>
                                </div>
                                <div class="form-check form-check-inline mb-0">
                                    <input class="form-check-input" type="radio" name="gender" id="female">
                                    <label class="form-check-label" for="female">女</label>
                                </div>
                                <div class="form-check form-check-inline mb-0">
                                    <input class="form-check-input" type="radio" name="gender" id="other">
                                    <label class="form-check-label" for="Other">其他</label>
                                </div>
                            </div>
                            <div class="col-sm-7">
                                <label class="form-label" for="intro">自我介紹</label>
                                <textarea class="form-control" id="intro" rows="4"></textarea>
                            </div>
                            <!-- 位址 -->
                            <div>
                                <div class="d-flex align-items-center mt-sm-n1 pb-4 mb-1 mb-lg-2">
                                    <i class="ai-map-pin text-primary lead pe-1 me-2"></i>
                                    <h2 class="h4 mb-0">地址</h2>
                                </div>
                                <div class="mb-3">
                                    <input class="form-control" type="text" id="address">
                                </div>
                            </div>

                            <div class="col-12 d-flex justify-content-end pt-3">
                                <button class="btn btn-primary ms-3" id="saveIntro">儲存</button>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Password-->
                <section class="card border-0 py-1 p-md-2 p-xl-3 p-xxl-4 mb-4">
                    <div class="card-body">
                        <div class="d-flex align-items-center pb-4 mt-sm-n1 mb-0 mb-lg-1 mb-xl-3"><i
                                class="ai-lock-closed text-primary lead pe-1 me-2"></i>
                            <h2 class="h4 mb-0">更改密碼</h2>
                        </div>
                        <div class="row align-items-center g-3 g-sm-4 pb-3">
                            <div class="col-sm-6">
                                <label class="form-label" for="newPw">更新密碼</label>
                                <div class="password-toggle">
                                    <input class="form-control" type="password" id="newPw">
                                    <label class="password-toggle-btn" aria-label="Show/hide password">
                                        <input class="password-toggle-check" type="checkbox"><span
                                            class="password-toggle-indicator"></span>
                                    </label>
                                </div>
                                <p id="passwordError" style="color: red;"></p>
                            </div>

                            <div class="col-sm-6"></div>

                            <div class="col-sm-6">
                                <label class="form-label" for="confirmPw">再次確認密碼</label>
                                <div class="password-toggle">
                                    <input class="form-control" type="password" id="confirmPw">
                                    <label class="password-toggle-btn" aria-label="Show/hide password">
                                        <input class="password-toggle-check" type="checkbox"><span
                                            class="password-toggle-indicator"></span>
                                    </label>
                                </div>
                                <p id="checkpasswordError" style="color: red;"></p>
                            </div>
                        </div>
                        <button id="pwButton" class="btn btn-primary">確定修改</button>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <!-- Divider for dark mode only-->
    <hr class="d-none d-dark-mode-block">
    <!-- Sidebar toggle button-->
    <button class="d-lg-none btn btn-sm fs-sm btn-primary w-100 rounded-0 fixed-bottom" data-bs-toggle="offcanvas"
            data-bs-target="#sidebarAccount"><i class="ai-menu me-2"></i>Account menu
    </button>
</main>
<!-- Footer-->
<footer class="footer bg-dark position-relative pb-4 pt-md-3 py-lg-4 py-xl-5">
    <div class="d-none d-dark-mode-block position-absolute top-0 start-0 w-100 h-100"
         style="background-color: rgba(255,255,255, .02);"></div>
    <div class="dark-mode container position-relative zindex-2 pt-5 pb-2">
        <!-- Columns with links-->
        <div class="row" id="links">
            <div class="col-md-3 col-xl-2 pb-2 pb-md-0">
                <h3 class="h6 text-uppercase d-none d-md-block">Useful links</h3><a
                    class="btn-more h6 mb-1 text-uppercase text-decoration-none d-flex align-items-center collapsed d-md-none"
                    href="#useful" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="useful"
                    data-show-label="Useful links" data-hide-label="Useful links"></a>
                <div class="collapse d-md-block" id="useful" data-bs-parent="#links">
                    <ul class="nav flex-column pb-2 pb-md-0">
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Trending</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Sale</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">About us</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Blog</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Contact</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Shipping &amp; Returns</a>
                        </li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Delivery info</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-3 col-xl-2 pb-2 pb-md-0">
                <h3 class="h6 text-uppercase d-none d-md-block">Decors</h3><a
                    class="btn-more h6 mb-1 text-uppercase text-decoration-none d-flex align-items-center collapsed d-md-none"
                    href="#decors" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="decors"
                    data-show-label="Decors" data-hide-label="Decors"></a>
                <div class="collapse d-md-block" id="decors" data-bs-parent="#links">
                    <ul class="nav flex-column pb-2 pb-md-0">
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Vases</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Mirrors</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Paintings</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Figurines</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Textile</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Lighting</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Photo frames</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-3 col-xl-2 pb-2 pb-md-0">
                <h3 class="h6 text-uppercase d-none d-md-block">Categories</h3><a
                    class="btn-more h6 mb-1 text-uppercase text-decoration-none d-flex align-items-center collapsed d-md-none"
                    href="#categories" data-bs-toggle="collapse" role="button" aria-expanded="false"
                    aria-controls="categories"
                    data-show-label="Categories" data-hide-label="Categories"></a>
                <div class="collapse d-md-block" id="categories" data-bs-parent="#links">
                    <ul class="nav flex-column pb-2 pb-md-0">
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Kitchen</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Bathroom</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Living room</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">Bedroom</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-md-3 pb-2 pb-md-0">
                <h3 class="h6 text-uppercase d-none d-md-block">Showroom</h3><a
                    class="btn-more h6 mb-1 text-uppercase text-decoration-none d-flex align-items-center collapsed d-md-none"
                    href="#showroom" data-bs-toggle="collapse" role="button" aria-expanded="false"
                    aria-controls="showroom"
                    data-show-label="Showroom" data-hide-label="Showroom"></a>
                <div class="collapse d-md-block" id="showroom" data-bs-parent="#links">
                    <ul class="nav flex-column pb-3">
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="#">1501 Main St, Ste 50<br>Tewksbury
                            MA
                            01876</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1"
                                                href="mailto:email@example.com">email@example.com</a></li>
                        <li class="nav-item"><a class="nav-link fw-normal px-0 py-1" href="+15262200459">+1 526 220
                            0459</a></li>
                    </ul>
                    <ul class="list-unstyled mb-0 pb-3 pb-md-0">
                        <li class="text-nav mb-2">Mon-Fri: 8:00 - 21:00</li>
                        <li class="text-nav mb-2">Sat: 8:00 - 21:00</li>
                        <li class="text-nav">Sun: 8:00 - 21:00</li>
                    </ul>
                </div>
            </div>
            <div class="col-12 col-xl-3 mt-md-2 mt-xl-0 pt-2 pt-md-4 pt-xl-0">
                <h3 class="h6 text-uppercase mb-1 pb-1">Download our app</h3>
                <div class="d-flex d-xl-block d-xxl-flex"><a class="btn btn-secondary px-3 py-2 mt-3 me-3" href="#"><img
                        class="mx-1" src="../frontendshop/assets/img/market/appstore-light.svg" width="120"
                        alt="App Store"></a><a
                        class="btn btn-secondary px-3 py-2 mt-3" href="#"><img class="mx-1"
                                                                               src="../frontendshop/assets/img/market/googleplay-light.svg"
                                                                               width="119" alt="Google Play"></a></div>
            </div>
        </div>
        <!-- Nav + Switcher-->
        <div class="d-sm-flex align-items-end justify-content-between border-bottom mt-2 mt-sm-1 pt-4 pt-sm-5">
            <!-- Nav-->
            <nav class="d-flex mb-3 mb-sm-4"><a class="nav-link text-muted fs-sm fw-normal ps-0 pe-2 py-2 me-4"
                                                href="#">Support</a><a
                    class="nav-link text-muted fs-sm fw-normal ps-0 pe-2 py-2 me-4"
                    href="#">Privacy</a><a class="nav-link text-muted fs-sm fw-normal ps-0 pe-2 py-2 me-sm-4" href="#">Terms
                of
                use</a></nav>
            <!-- Language / currency switcher-->
            <div class="dropdown mb-4">
                <button class="btn btn-outline-secondary dropdown-toggle px-4" type="button" data-bs-toggle="dropdown"
                        data-bs-auto-close="outside" aria-expanded="false"><img class="me-2"
                                                                                src="../frontendshop/assets/img/flags/en.png"
                                                                                width="18" alt="English / USD">Eng / USD
                </button>
                <div class="dropdown-menu dropdown-menu-end my-1">
                    <div class="dropdown-item">
                        <select class="form-select form-select-sm">
                            <option value="usd">$ USD</option>
                            <option value="eur">€ EUR</option>
                            <option value="ukp">£ UKP</option>
                            <option value="jpy">¥ JPY</option>
                        </select>
                    </div>
                    <a class="dropdown-item pb-1" href="#"><img class="me-2"
                                                                src="../frontendshop/assets/img/flags/fr.png" width="18"
                                                                alt="Français">Français</a><a class="dropdown-item pb-1"
                                                                                              href="#"><img class="me-2"
                                                                                                            src="../frontendshop/assets/img/flags/de.png"
                                                                                                            width="18"
                                                                                                            alt="Deutsch">Deutsch</a><a
                        class="dropdown-item" href="#"><img
                        class="me-2" src="../frontendshop/assets/img/flags/it.png" width="18"
                        alt="Italiano">Italiano</a>
                </div>
            </div>
        </div>
        <!-- Logo + Socials + Cards-->
        <div class="d-sm-flex align-items-center pt-4">
            <div class="d-sm-flex align-items-center pe-sm-2"><a
                    class="navbar-brand d-inline-flex align-items-center me-sm-5 mb-4 mb-sm-0" href="index.html"><span
                    class="text-primary flex-shrink-0 me-2">
              <svg version="1.1" width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">
                <path fill="currentColor"
                      d="M35.6,29c-1.1,3.4-5.4,4.4-7.9,1.9c-2.3-2.2-6.1-3.7-9.4-3.7c-3.1,0-7.5,1.8-10,4.1c-2.2,2-5.8,1.5-7.3-1.1c-1-1.8-1.2-4.1,0-6.2l0.6-1.1l0,0c0.6-0.7,4.4-5.2,12.5-5.7c0.5,1.8,2,3.1,3.9,3.1c2.2,0,4.1-1.9,4.1-4.2s-1.8-4.2-4.1-4.2c-2,0-3.6,1.4-4,3.3H7.7c-0.8,0-1.3-0.9-0.9-1.6l5.6-9.8c2.5-4.5,8.8-4.5,11.3,0L35.1,24C36,25.7,36.1,27.5,35.6,29z">
                </path>
              </svg></span><span class="text-nav">EZ-DOM</span></a>
                <div class="text-nowrap mb-4 mb-sm-0"><a
                        class="btn btn-icon btn-sm btn-secondary btn-telegram rounded-circle mx-2 ms-sm-0 me-sm-3"
                        href="#"><i
                        class="ai-telegram"></i></a><a
                        class="btn btn-icon btn-sm btn-secondary btn-instagram rounded-circle mx-2 ms-sm-0 me-sm-3"
                        href="#"><i
                        class="ai-instagram"></i></a><a
                        class="btn btn-icon btn-sm btn-secondary btn-facebook rounded-circle mx-2 ms-sm-0 me-sm-3"
                        href="#"><i
                        class="ai-facebook"></i></a><a
                        class="btn btn-icon btn-sm btn-secondary btn-pinterest rounded-circle mx-2 ms-sm-0 me-sm-3"
                        href="#"><i
                        class="ai-pinterest"></i></a></div>
            </div>
            <img class="ms-sm-auto" src="../frontendshop/assets/img/shop/footer-cards.png" width="187"
                 alt="Accepted cards">
        </div>
    </div>
    <div class="pt-5 pt-lg-0"></div>
</footer>
<!-- Back to top button--><a class="btn-scroll-top" href="#top" data-scroll>
    <svg viewBox="0 0 40 40" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="19" fill="none" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10">
        </circle>
    </svg>
    <i class="ai-arrow-up"></i></a>

<!-- Page loading scripts-->
<script>
    (function () {
      window.onload = function () {
        const preloader = document.querySelector('.page-loading');
        preloader.classList.remove('active');
        setTimeout(function () {
          preloader.remove();
        }, 1500);
      };
    })();
</script>
<!-- Vendor scripts: js libraries and plugins-->
<script src="../frontendshop/assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="../frontendshop/assets/vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script src="../frontendshop/assets/vendor/cleave.js/dist/cleave.min.js"></script>
<!-- Main theme script-->
<script src="../frontendshop/assets/js/theme.min.js"></script>
<!-- Swal -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.5/dist/sweetalert2.all.min.js"></script>


<!---------------------------------- 個資部分 ------------------------------------------>
<!-- 驗證格式函式 -->
<script>

    // 身分證
    function ValidateId() {
      const idError = document.getElementById("idError");
      const id = document.getElementById('memberUid');
      const idRegex = /^[A-Z][12][0-9]{8}$/;

      if (!idRegex.test(id.value)) {
        idError.textContent = "請輸入正確格式";
        return false;
      } else {
        idError.textContent = "";
        return true;
      }
    }

    // 信箱
    function ValidateMail() {
      const mailError = document.getElementById("mailError");
      const mail = document.getElementById('email');
      const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

      if (!emailRegex.test(mail.value)) {
        mailError.textContent = "請輸入正確格式";
        return false;
      } else {
        mailError.textContent = "";
        return true;
      }
    }

    // 手機
    function ValidatePhone() {
      const phoneError = document.getElementById("phoneError");
      const phone = document.getElementById('phone');
      const phoneRegex = /^09[0-9]{8}$/;

      if (!phoneRegex.test(phone.value)) {
        phoneError.textContent = "請輸入正確格式";
        return false;
      } else {
        phoneError.textContent = "";
        return true;
      }
    }


</script>

<!-- 解除 oninput -->
<script>
    // 取得輸入框和相關錯誤訊息元素
    const memberUidInput = document.getElementById('memberUid');
    const emailInput = document.getElementById('email');
    const phoneInput = document.getElementById('phone');

    const idError = document.getElementById('idError');
    const mailError = document.getElementById('mailError');
    const phoneError = document.getElementById('phoneError');

    // 設定每個輸入框的 oninput 事件
    memberUidInput.addEventListener('input', ValidateId);
    emailInput.addEventListener('input', ValidateMail);
    phoneInput.addEventListener('input', ValidatePhone);

    // 監聽文檔點擊事件
    document.addEventListener('click', (event) => {
      // 移除每個輸入框的 oninput 事件
      memberUidInput.removeEventListener('input', ValidateId);
      emailInput.removeEventListener('input', ValidateMail);
      phoneInput.removeEventListener('input', ValidatePhone);

      // 清除錯誤訊息
      idError.textContent = '';
      mailError.textContent = '';
      phoneError.textContent = '';
    });

</script>

<!-- 性別值轉換 -->
<script>

    // 獲取選中的性別
    const maleRadioButton = document.getElementById('male');
    const femaleRadioButton = document.getElementById('female');
    const otherRadioButton = document.getElementById('other');


    let selectedGender;

    // 設置事件監聽器來監聽選項的變化
    maleRadioButton.addEventListener('change', function () {
      selectedGender = '0';
    });

    femaleRadioButton.addEventListener('change', function () {
      selectedGender = '1';
    });

    otherRadioButton.addEventListener('change', function () {
      selectedGender = '2';
    });

</script>

<!-- 上傳個資變數 -->
<script>

    const saveIntro = document.getElementById('saveIntro');
    const name = document.getElementById('name');
    const memberUid = document.getElementById('memberUid');
    const email = document.getElementById('email');
    const phone = document.getElementById('phone');
    const birthInput = document.getElementById('birth');
    const intro = document.getElementById('intro');
    const address = document.getElementById('address');

</script>

<!-- 上傳個資 -->
<script>
    saveIntro.addEventListener('click', function (event) {
      event.preventDefault();


      // 創建一個空的對象
      const requestData = {};

      // 將有值的字段添加到 requestData 中
      if (name.value) {
        requestData.name = name.value;
      }

      if (memberUid.value) {
        requestData.uid = memberUid.value;
      }

      if (email.value) {
        requestData.email = email.value;
      }

      if (phone.value) {
        requestData.phone = phone.value;
      }

      if (birth.value) {
        requestData.birth = birth.value;
      }

      if (selectedGender) {
        requestData.gender = selectedGender;
      }

      if (intro.value) {
        requestData.introduction = intro.value;
      }

      if (address.value) {
        requestData.address = address.value;
      }

      console.log("Selected gender: " + selectedGender);

      fetch('/ezdom/member/profile', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(requestData)
      })
        .then(response => {
          // 獲取 HTTP 狀態碼
          const statusCode = response.status;

          // 判斷狀態碼並進行相應處理
          if (statusCode === 200) {
            // 登入成功的處理
            Swal.fire({
              icon: 'success',
              title: '成功',
              text: '個資上傳成功！',
              confirmButtonText: '確定',
              focusConfirm: true
            }).then((result) => {
                if (result.isConfirmed) {
                  // 刷新頁面
                  location.reload(); // 在成功處理後刷新頁面
                }
        });
          } else if (statusCode === 400) {
            // 驗證失敗的處理
            return response.json(); // 將回應轉換為 JSON
          } else {
            // 其他狀態碼處理
            throw new Error("HTTP Error: " + statusCode);
          }
        })
    });
</script>

<!-- 上傳照片處理 -->
<script>
    const prePhoto = document.getElementById('prePhoto');
    const newPhoto = document.getElementById('newPhoto');
    const uploadButton = document.getElementById('uploadButton');

    // 創建一個 input 元素
    const fileInput = document.createElement('input');

    // 設定 input 元素的屬性
    fileInput.type = 'file';
    fileInput.accept = 'image/*';
    fileInput.style.display = 'none';


    // 監聽上傳照片的點擊事件，觸發文件選擇對話框
    uploadButton.addEventListener('click', function () {
      fileInput.click(); // 觸發文件選擇對話框
    });

    // 監聽文件選擇對話框的變化事件
    fileInput.addEventListener('change', function (e) {

      const selectedPhoto = e.target.files[0];

      if (selectedPhoto) {
        let reader = new FileReader();
        reader.onload = function (e) {
          prePhoto.style.backgroundImage = `url(${e.target.result})`;

          // 將圖片轉換為Base64字符串
          const base64Image = e.target.result.split(',')[1]; // 去掉data:image/jpeg;base64,中的前綴部分

          // 將Base64字符串包裝在JSON數據中並上傳到伺服器
          uploadImageToServer(base64Image);
        };
        reader.readAsDataURL(selectedPhoto);
      }
    });

    // 函數：上傳圖片到伺服器
    function uploadImageToServer(base64Image) {
      // 將Base64字符串放入一個JSON對象中
      const data = { memberPhoto: base64Image };

      // 使用fetch將JSON數據上傳到伺服器
      fetch('/ezdom/member/uploadPhoto', {
        method: 'POST',
        headers: { 'Content-type': 'application/json' },
        body: JSON.stringify(data),
      }).then(response => {
        // 獲取 HTTP 狀態碼
        const statusCode = response.status;

        // 判斷狀態碼並進行相應處理
        if (statusCode === 200) {
          // 登入成功的處理
          Swal.fire({
            icon: 'success',
            title: '成功',
            text: '照片更新成功！',
            confirmButtonText: '確定',
            focusConfirm: true
          }).then((result) => {
            if (result.isConfirmed) {
            // 把上傳的圖設為預設
              prePhoto.style.backgroundImage = `url(data:image/jpeg;base64,${base64Image})`;

              // 刷新頁面
              location.reload(); // 在成功處理後刷新頁面

            }
    })

        } else if (statusCode === 400) {
          // 驗證失敗的處理
          return response.json(); // 將回應轉換為 JSON
        } else {
          // 其他狀態碼處理
          throw new Error("HTTP Error: " + statusCode);
        }
      }).then(data => {
        // 在這裡處理 JSON 回應的資料
        // 例如顯示後端返回的錯誤訊息
        Swal.fire({
          icon: 'error',
          title: '失敗',
          text: data.message, // 假設後端返回的錯誤訊息放在 data.message 中
          confirmButtonText: '確定',
          focusConfirm: false
        });
      })
        .catch(error => {
          // 處理 fetch 發生的錯誤
          console.error("Fetch Error:", error);
        });
    }

</script>

<!---------------------------------- 更改密碼 ------------------------------------------>
<script>

    document.addEventListener('DOMContentLoaded', function () {
    const newPw = document.getElementById('newPw');
    const confirmPw = document.getElementById('confirmPw');
    const pwButton = document.getElementById('pwButton');


    newPw.addEventListener('blur', validatePassword);
    confirmPw.addEventListener('blur', validateConfirmPassword);

    // 驗證密碼格式的函數
    function validatePassword() {
        let passwordError = document.getElementById("passwordError");
        var passwordRegex = /^[A-Za-z\d!@#$%^&*()]{8,12}$/;
        if (!newPw.value.trim()) {
            passwordError.textContent = "密碼不可為空";
            return false;
        } else if (!passwordRegex.test(newPw.value)) {
            passwordError.textContent = "請輸入正確格式";
            return false;
        } else {
            passwordError.textContent = "";
            return true;
        }
    }

    // 驗證確認密碼的函數
    function validateConfirmPassword() {
        let checkpasswordError = document.getElementById("checkpasswordError");

        if (!confirmPw.value.trim()) {
            checkpasswordError.textContent = "請輸入密碼";
            return false;
        } else if (confirmPw.value === newPw.value) {
            checkpasswordError.textContent = "";
            return true;
        } else {
            checkpasswordError.textContent = "請輸入相同密碼";
            return false;
        }
    }

    pwButton.addEventListener('click', function () {
        if (validatePassword() && validateConfirmPassword()) {

            const modifyPwValue = document.getElementById('newPw').value;

            // 執行修改密碼的邏輯
            fetch(`/ezdom/member/modifyPw?modifyPw=${modifyPwValue}`, {
                method: 'POST',
                headers: { 'Content-type': 'application/json' }
            }).then(response => {
                // 處理修改密碼的回應
                const statusCode = response.status;

                if (statusCode === 200) {
                    // 修改成功的處理
                    Swal.fire({
                        icon: 'success',
                        title: '成功',
                        text: '密碼修改成功！',
                        confirmButtonText: '確定',
                        focusConfirm: true
                    }).then((result) => {
                        window.location.replace("account-signin.html");
                        return;
                    });
                } else if (statusCode === 400) {
                    // 驗證失敗的處理
                    return response.json(); // 轉換回應為 JSON 格式
                } else {
                    // 其他狀態碼處理
                    throw new Error("HTTP 錯誤: " + statusCode);
                }
            });
        }
    });
});


</script>
<!---------------------------------- 側邊攔部分 ------------------------------------------>

<!-- 名字、信箱 -->
<script>

    document.addEventListener('DOMContentLoaded', function () {

      displayMemberSidebarProfile();
    });


        function displayMemberSidebarProfile(){
          const nameDisplay1 = document.querySelectorAll(".nameDisplay1");
          const mailDisplay1 = document.querySelectorAll(".mailDisplay1");

          fetch(`/ezdom/member/getProfile`)
            .then(resp => resp.json())
            .then(body => {
              const { name, email, phone, memberUid, introduction, address } = body;

              // 將會員信息顯示在相應的元素中
              nameDisplay1.forEach(element => {
                element.textContent = name;
              });
              mailDisplay1.forEach(element => {
                element.textContent = email;
              });

              document.getElementById('name').value = name || '';
              document.getElementById('email').value = email || '';
              document.getElementById('memberUid').value = memberUid || '';
              document.getElementById('phone').value = phone || '';
              document.getElementById('address').value = address || '';
              })
            .catch(error => {
              console.error("Error:", error);
            });
        }

</script>
<!-- 照片 -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
      displayMemberPhoto();
    });

    function displayMemberPhoto() {
      const photoDisplay1 = document.getElementsByClassName("photoDisplay1");

      fetch(`/ezdom/member/getPhoto`, {
          method: 'GET',
          headers: { 'Content-type': 'application/json' },
        })
          .then(response => {
          if (response.status === 401) {
            // 重定向到登录页面 登入失敗
            window.location.href = '/ezdom/frontendmember/account-signin.html';
          } else if (response.ok) {
            //登入成功
            return response.json();
          }
        }).then(data => {
          if (data) {
            for (const element of photoDisplay1) {
              element.innerHTML = `<img class="rounded-circle bg-size-cover bg-position-center flex-shrink-0" src="data:image/jpeg;base64,${data.photoToBase64}" style="width: 80px; height: 80px;" />`;
            }
          }else {
            for (const element of photoDisplay1) {
              // 設置預設圖片的 src 屬性
              element.innerHTML = `<img class="rounded-circle bg-size-cover bg-position-center flex-shrink-0" src="/ezdom/frontendshop/image/userPhoto.png" style="width: 80px; height: 80px;" />`;
            }
          }
        })
          .catch(error => {
            console.error("錯誤：", error);
          });
    }
</script>

// ====================== 取得登入的session資訊 ====================== //
<script>
    window.addEventListener("load", function() {
            getSession();
        })
  const s_req = '/ezdom/frontend/session';
  let session;
  let memberId = null;
  let coachId = null;
  async function getSession(){
      let response = await fetch(s_req);
      session = await response.json();
      console.log(session);
      memberId = session.memberId;
      if(null !== session.coachId){
          coachId = session.coachId;
      }

      let link = document.querySelector("#link");
      if(null !== coachId){
      console.log("1:" + coachId);
        link.setAttribute("href", `/ezdom/frontendcoach/coach-details.html?coachId=${coachId}`);
      } else if (null === coachId){
      console.log("2:" + coachId);
        link.setAttribute("href", `/ezdom/frontendcoach/coach-signup.html`);
        link.textContent = "註冊教練";
      }
  }
</script>


</body>

</html>