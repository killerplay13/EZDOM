<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>EZDOM | Join Togather</title>
    <script src="https://unpkg.com/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.15.7/dist/sweetalert2.all.min.js"></script>
    <!-- SEO Meta Tags-->
    <meta name="description" content="Around - Multipurpose Bootstrap HTML Template">
    <meta name="keywords"
        content="bootstrap, business, corporate, coworking space, services, creative agency, dashboard, e-commerce, mobile app showcase, saas, multipurpose, product landing, shop, software, ui kit, web studio, landing, dark mode, html5, css3, javascript, gallery, slider, touch, creative">
    <meta name="author" content="Createx Studio">
    <!-- Viewport-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon and Touch Icons-->
    <link rel="apple-touch-icon" sizes="180x180" href="../frontendshop/assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../frontendshop/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../frontendshop/assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="../frontendshop/assets/favicon/site.webmanifest">
    <link rel="mask-icon" color="#6366f1" href="../frontendshop/assets/favicon/safari-pinned-tab.svg">
    <meta name="msapplication-TileColor" content="#080032">
    <meta name="msapplication-config" content="assets/favicon/browserconfig.xml">
    <meta name="theme-color" content="white">
    <!-- Theme mode-->
    <script>
        let mode = window.localStorage.getItem('mode'),
            root = document.getElementsByTagName('html')[0];
        if (mode !== undefined && mode === 'dark') {
            root.classList.add('dark-mode');
        } else {
            root.classList.remove('dark-mode');
        }


    </script>
    <!-- Page loading styles-->
    <style>
        .page-loading {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            -webkit-transition: all .4s .2s ease-in-out;
            transition: all .4s .2s ease-in-out;
            background-color: #fff;
            opacity: 0;
            visibility: hidden;
            z-index: 9999;
        }

        .dark-mode .page-loading {
            background-color: #121519;
        }

        .page-loading.active {
            opacity: 1;
            visibility: visible;
        }

        .page-loading-inner {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            text-align: center;
            -webkit-transform: translateY(-50%);
            transform: translateY(-50%);
            -webkit-transition: opacity .2s ease-in-out;
            transition: opacity .2s ease-in-out;
            opacity: 0;
        }

        .page-loading.active>.page-loading-inner {
            opacity: 1;
        }

        .page-loading-inner>span {
            display: block;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: normal;
            color: #6f788b;
        }

        .dark-mode .page-loading-inner>span {
            color: #fff;
            opacity: .6;
        }

        .page-spinner {
            display: inline-block;
            width: 2.75rem;
            height: 2.75rem;
            margin-bottom: .75rem;
            vertical-align: text-bottom;
            background-color: #d7dde2;
            border-radius: 50%;
            opacity: 0;
            -webkit-animation: spinner .75s linear infinite;
            animation: spinner .75s linear infinite;
        }

        .dark-mode .page-spinner {
            background-color: rgba(255, 255, 255, .25);
        }

        @-webkit-keyframes spinner {
            0% {
                -webkit-transform: scale(0);
                transform: scale(0);
            }

            50% {
                opacity: 1;
                -webkit-transform: none;
                transform: none;
            }
        }

        @keyframes spinner {
            0% {
                -webkit-transform: scale(0);
                transform: scale(0);
            }

            50% {
                opacity: 1;
                -webkit-transform: none;
                transform: none;
            }
        }
    </style>
    <!-- Page loading scripts-->
    <script>
        (function () {
            window.onload = function () {
                const preloader = document.querySelector('.page-loading');
                preloader.classList.remove('active');
                setTimeout(function () {
                    preloader.remove();
                }, 1500);
            };
        })();

    </script>
    <!-- Import Google Font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap"
        rel="stylesheet" id="google-font">
    <!-- Vendor styles-->
    <link rel="stylesheet" media="screen" href="../frontendshop/assets/vendor/swiper/swiper-bundle.min.css" />
    <link rel="stylesheet" media="screen" href="../frontendshop/assets/vendor/lightgallery/css/lightgallery-bundle.min.css" />
    <link rel="stylesheet" media="screen" href="../frontendshop/assets/vendor/fullcalendar/main.min.css" />
    <!-- Main Theme Styles + Bootstrap-->
    <link rel="stylesheet" media="screen" href="../frontendshop/assets/css/theme.min.css">
</head>
<!-- Body-->

<body>
    <!-- Page loading spinner-->
    <div class="page-loading active">
        <div class="page-loading-inner">
            <div class="page-spinner"></div><span>Loading...</span>
        </div>
    </div>
    <!-- 頁首-->
    <main class="page-wrapper">
        <!-- Navbar. Remove 'fixed-top' class to make the navigation bar scrollable with the page-->
        <header class="navbar navbar-expand-lg fixed-top navbar-ignore-dark-mode ignore-dark-mode" style="background-color: white;">
            <div class="container"><a class="navbar-brand pe-sm-3" href="/ezdom/ezdomindex.html"><span
                    class="text-primary flex-shrink-0 me-2">
                    <svg version="1.1" width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">
                        <path fill="currentColor"
                              d="M35.6,29c-1.1,3.4-5.4,4.4-7.9,1.9c-2.3-2.2-6.1-3.7-9.4-3.7c-3.1,0-7.5,1.8-10,4.1c-2.2,2-5.8,1.5-7.3-1.1c-1-1.8-1.2-4.1,0-6.2l0.6-1.1l0,0c0.6-0.7,4.4-5.2,12.5-5.7c0.5,1.8,2,3.1,3.9,3.1c2.2,0,4.1-1.9,4.1-4.2s-1.8-4.2-4.1-4.2c-2,0-3.6,1.4-4,3.3H7.7c-0.8,0-1.3-0.9-0.9-1.6l5.6-9.8c2.5-4.5,8.8-4.5,11.3,0L35.1,24C36,25.7,36.1,27.5,35.6,29z">
                        </path>
                    </svg></span>EZ-DOM</a>
                <a class="btn btn-primary btn-sm fs-sm order-lg-3 d-none d-sm-inline-flex"
                   href="/ezdom/frontendmember/account-overview.html" target="_blank"
                   rel="noopener"><i class="ai-user"></i></a>
                <button class="navbar-toggler ms-sm-3" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
                <nav class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav navbar-nav-scroll me-auto" style="--ar-scroll-height: 520px;">
                        <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                         data-bs-auto-close="outside" aria-expanded="false">揪團</a>
                            <ul class="dropdown-menu">
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/group/grouplist.html">揪團列表</a></li>
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/group/mygroup.html">My揪團</a></li>
                                <li class="dropdown" style="border-bottom: none;"><a class="dropdown-item dropdown-toggle"
                                                                                     href="#" data-bs-toggle="dropdown" aria-expanded="false">開團管理</a>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="/ezdom/groupcreate/groupcreate.html">建立揪團</a></li>
                                        <li><a class="dropdown-item" href="/ezdom/groupcreate/groupCreateVerify.html">管理開團</a></li>
                                    </ul>
                                </li>
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/message/messageGroup.html">揪團聊天室</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                         data-bs-auto-close="outside" aria-expanded="false">商城</a>
                            <ul class="dropdown-menu">
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendshop/shop-catalog.html">瀏覽商品</a></li>
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendshop/shop-account-orders.html">管理我的訂單</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                         data-bs-auto-close="outside" aria-expanded="false">論壇</a>
                            <ul class="dropdown-menu">
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendforum/forum.html">論壇</a></li>
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendforum/forum-mypost.html">我的論壇</a></li>
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendforum/forum-post.html">發文</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                         data-bs-auto-close="outside" aria-expanded="false">預約</a>
                            <ul class="dropdown-menu">
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendreserve/reserve-memberlist.html">預約管理</a></li>
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendcoach/coach-list.html">瀏覽教練</a></li>
                                <li class="dropdown"><a id="link" class="dropdown-item" href="/ezdom/frontendcoach/coach-details.html?coachId=">教練專區</a></li>

                            </ul>
                        </li>
                        <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"
                                                         data-bs-auto-close="outside" aria-expanded="false">會員中心</a>
                            <ul class="dropdown-menu">
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendmember/account-overview.html">我的頁面</a></li>
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendshop/shop-checkout.html">收藏商品</a></li>
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/frontendmember/account-settings.html">個人設定</a></li>
                                <li class="dropdown"><a class="dropdown-item" href="/ezdom/message/messagePrivate.html">聊天室</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown"><a class="nav-link " href="/ezdom/frontendsupport/support.html"
                                                         aria-expanded="false">聯絡客服</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
        <!-- 頁首結束-->
        <!-- Page content-->
        <section class="container py-5 mt-5 mb-sm-2 mb-lg-3 mb-xl-4 mb-xxl-5">
            <!-- 小連結-->
            <nav aria-label="breadcrumb">
                <ol class="pt-lg-3 pb-2 pb-md-4 breadcrumb">
                    <li class="breadcrumb-item"><a href="mygroup.html">MyGroup</a></li>
                    <li class="breadcrumb-item"><a href="mycomminggroup.html">即將到來</a></li>
                    <li class="breadcrumb-item active" aria-current="page">揪團內容</li>
                </ol>
            </nav>
            <!-- 小連結結束-->
            <!-- 當畫面 < 768px 才會顯示-->
            <h2 class="h1 d-md-none">走啊打球阿</h2>
            <div class="d-flex d-md-none align-items-center pb-3 mb-3">
                <div class="h3 mb-0 me-3">各付各的</div>
                <del class="fs-5 fw-medium text-muted me-3"></del>
                <span class="badge bg-faded-danger text-danger d-md-none">新手友善</span>
            </div>
            <div class="row pb-sm-1 pb-md-4" id="app">
                <!-- 揪團圖片-->
                <div class="col-md-6 gallery mb-3 mb-md-0">
                    <!-- Item-->

                        <!-- Item-->
                        <div class="zoom-effect-wrapper rounded-1">
                            <div class="zoom-effect-img bg-secondary p-4"><img class="background-image"
                               :src="'data:image/jpeg;base64,' + groupPhoto" alt="Group image #1" style="width: 596px;"></div>
                        </div>
                        </a>

                </div>
                <!-- 揪團內容-->
                <div class="col-md-6 col-xl-5 offset-xl-1">
                    <div class="d-none d-md-block" style="margin-top: -90px;"></div>
                    <div class="position-md-sticky top-0 ps-md-4 ps-lg-5 ps-xl-0">
                        <div class="d-none d-md-block" style="padding-top: 90px;"></div>


                        <h1 id="groupName" >{{groupName}}</h1>
                        <p id="groupContent" class="fs-5 mb-4 mt-3">
                            {{groupContent}}
                        </p>
                        <div class="d-none d-md-flex align-items-center pb-3 mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" height="2em"
                                 viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path
                                        d="M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z" />
                            </svg>
                            <span id="groupDate" class="ps-2" style="margin-right: 15px;">{{groupDate}}</span>
                            <div id="endDate" class="end-day"></div>
                        </div>
                        <div class="d-none d-md-flex align-items-center pb-3 mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" height="2em"
                                 viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path
                                        d="M96 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32V224v64V448c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32V384H64c-17.7 0-32-14.3-32-32V288c-17.7 0-32-14.3-32-32s14.3-32 32-32V160c0-17.7 14.3-32 32-32H96V64zm448 0v64h32c17.7 0 32 14.3 32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32v64c0 17.7-14.3 32-32 32H544v64c0 17.7-14.3 32-32 32H480c-17.7 0-32-14.3-32-32V288 224 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32zM416 224v64H224V224H416z" />
                            </svg>
                            <span id="groupTitle" class="ps-2">{{groupTheme}}</span>
                        </div>
                        <div class="d-none d-md-flex align-items-center pb-3 mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 0 384 512">
                                <path
                                        d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z" />
                            </svg>
                            <span id="groupLocation" class="ps-2">位置資訊:{{groupLoc}}</span>
                        </div>
                        <div class="d-none d-md-flex align-items-center pb-3 mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" height="2em" viewBox="0 0 448 512">
                                <!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path
                                        d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z" />
                            </svg>
                            <span class="ps-2">{{memberNum}}人報名</span>
                            <div class="ps-2 inline-block" v-for="member in memberList" :key="member.memberId" >
                                <img v-if="member.memberPhotoBase64"
                                     :src="'data:image/jpeg;base64,' + member.memberPhotoBase64" alt="member.memberName"
                                     class="circle-avatar" data-bs-toggle="popover" :data-bs-placement="'top'"
                                     :data-toggle="'popover-' + member.memberId" data-content="Disabled popover"
                                     style="width: 50px; height: 50px; border-radius: 50%; margin-right: 5px; cursor: pointer;"
                                     @click="showButton(member.memberId)" />
                                <div>
                                    <br>
                                    <button type="button" :disabled="!isButtonEnabled"
                                            class="btn btn-primary btn-danger" @click="SendReport(member.memberId)"
                                            v-show="clickedImageId === member.memberId" style="width: 25px; height: 25px;">
                                        檢舉
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="d-none d-md-flex align-items-center pb-3 mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" height="2em"
                                viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                <path
                                    d="M320 96H192L144.6 24.9C137.5 14.2 145.1 0 157.9 0H354.1c12.8 0 20.4 14.2 13.3 24.9L320 96zM192 128H320c3.8 2.5 8.1 5.3 13 8.4C389.7 172.7 512 250.9 512 416c0 53-43 96-96 96H96c-53 0-96-43-96-96C0 250.9 122.3 172.7 179 136.4l0 0 0 0c4.8-3.1 9.2-5.9 13-8.4zm84 88c0-11-9-20-20-20s-20 9-20 20v14c-7.6 1.7-15.2 4.4-22.2 8.5c-13.9 8.3-25.9 22.8-25.8 43.9c.1 20.3 12 33.1 24.7 40.7c11 6.6 24.7 10.8 35.6 14l1.7 .5c12.6 3.8 21.8 6.8 28 10.7c5.1 3.2 5.8 5.4 5.9 8.2c.1 5-1.8 8-5.9 10.5c-5 3.1-12.9 5-21.4 4.7c-11.1-.4-21.5-3.9-35.1-8.5c-2.3-.8-4.7-1.6-7.2-2.4c-10.5-3.5-21.8 2.2-25.3 12.6s2.2 21.8 12.6 25.3c1.9 .6 4 1.3 6.1 2.1l0 0 0 0c8.3 2.9 17.9 6.2 28.2 8.4V424c0 11 9 20 20 20s20-9 20-20V410.2c8-1.7 16-4.5 23.2-9c14.3-8.9 25.1-24.1 24.8-45c-.3-20.3-11.7-33.4-24.6-41.6c-11.5-7.2-25.9-11.6-37.1-15l0 0-.7-.2c-12.8-3.9-21.9-6.7-28.3-10.5c-5.2-3.1-5.3-4.9-5.3-6.7c0-3.7 1.4-6.5 6.2-9.3c5.4-3.2 13.6-5.1 21.5-5c9.6 .1 20.2 2.2 31.2 5.2c10.7 2.8 21.6-3.5 24.5-14.2s-3.5-21.6-14.2-24.5c-6.5-1.7-13.7-3.4-21.1-4.7V216z" />
                            </svg>
                            <span id="groupDeposit" class="groupDeposit">{{groupDeposit}}</span>
                        </div>
                        <!-- 取消報名按鈕-->
                        <div class="d-sm-flex d-md-block d-lg-flex py-4 py-md-5 my-3 my-md-0 mt-lg-0 mb-lg-4">
                            <div class="d-flex align-items-center">
                                <a href="#" class="btn btn-lg btn-primary w-100 w-lg-auto me-2" role="button" onclick="showCancelConfirmation()">取消報名</a>
                            </div>



                        </div>

                        <!-- Sharing-->
                        <div class="d-flex align-items-center">
                            <h4 class="h6 me-4">Share product:</h4><a
                                class="btn btn-secondary btn-icon btn-sm btn-telegram rounded-circle me-3 mb-3"
                                href="#"><i class="ai-telegram"></i></a><a
                                class="btn btn-secondary btn-icon btn-sm btn-instagram rounded-circle me-3 mb-3"
                                href="#"><i class="ai-instagram"></i></a><a
                                class="btn btn-secondary btn-icon btn-sm btn-facebook rounded-circle mb-3" href="#"><i
                                    class="ai-facebook"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>





        <!-- Vendor scripts: js libraries and plugins-->
        <script src="../frontendshop/assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="../frontendshop/assets/vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
        <script src="../frontendshop/assets/vendor/swiper/swiper-bundle.min.js"></script>
        <script src="../frontendshop/assets/vendor/lightgallery/lightgallery.min.js"></script>
        <script src="../frontendshop/assets/vendor/lightgallery/plugins/video/lg-video.min.js"></script>
        <script src="../frontendshop/assets/vendor/fullcalendar/main.min.js"></script>
        <!-- Main theme script-->
        <script src="../frontendshop/assets/js/theme.min.js"></script>
</body>



<!--<script>-->

<!--    // 當前頁面的URL-->
<!--    let url = window.location.search;-->

<!--    // 解析查詢參數-->
<!--    let urlParams = new URLSearchParams(url);-->

<!--    // 獲取groupId參數的值-->
<!--    let groupId = urlParams.get("groupId");-->

<!--    function showCancelConfirmation() {-->



<!--        const apiUrl = `/ezdom/frontend/group/member/${groupId}`;-->
<!--        const options = {-->
<!--            method: 'DELETE'-->
<!--        }-->
<!--        fetch(apiUrl,options)-->
<!--            .then(response => {})-->
<!--            .then(() => {-->
<!--                alert("已取消報名");-->

<!--                window.location.href = '/ezdom/group/mycomminggroup.html'-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error("Error fetching group data:", error);-->
<!--            });-->


<!--    }-->

<!--    function getMembers() {-->
<!--        const apiUrl = `/ezdom/frontend/group/applied/list/${groupId}`;-->
<!--        const memberAvatar = document.getElementById("member-avatar");-->

<!--        fetch(apiUrl)-->
<!--            .then(response => response.json())-->
<!--            .then((members) => {-->
<!--                console.log(members);-->

<!--                let html = "";-->
<!--                for (let i = 0; i < members.length; i++) {-->
<!--                    html += '<img src="' + 'data:image/jpeg;base64,' + members[i].memberPhoto + '" alt="Member Avatar">'-->
<!--                }-->
<!--                memberAvatar.innerHTML = html;-->


<!--            })-->
<!--            .catch(error => {-->
<!--                console.error("Error fetching group collect:", error);-->
<!--            });-->
<!--    }-->

<!--    getMembers();-->

<!--    function fetchGroupInfo(groupId) {-->
<!--        const apiUrl = `/ezdom/frontend/group/admin/${groupId}`;-->

<!--        fetch(apiUrl)-->
<!--            .then(response => response.json())-->
<!--            .then(groupData => {-->
<!--                displayGroupInfo(groupData);-->
<!--            })-->
<!--            .catch(error => {-->
<!--                console.error("Error fetching group data:", error);-->
<!--            });-->
<!--    }-->

<!--    function formatDateTime(dateTimeString) {-->
<!--        const options = { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric' };-->
<!--        return new Date(dateTimeString).toLocaleString('en-US', options);-->
<!--    }-->

<!--    function displayGroupInfo(groupData) {-->
<!--        document.getElementById("groupPhoto").querySelector("img").src = groupData.groupPhoto || "https://pic4.zhimg.com/80/v2-33211227f196223db1ad4bd7585993c7_1440w.webp";-->
<!--        document.querySelector(".group-leader img").src = groupData.leaderImageUrl || "default-leader.jpg";-->
<!--        document.querySelector(".group-leader .ps-2").textContent = groupData.leaderName || "團主名稱";-->
<!--        document.getElementById("groupName").textContent = groupData.groupName || "走啊打球阿";-->
<!--        document.getElementById("groupContent").textContent = groupData.groupContent || "";-->
<!--        document.getElementById("groupDate").textContent = formatDateTime(groupData.groupDate) || "";-->
<!--        document.getElementById("endDate").textContent = `【最後截止日期: ${formatDateTime(groupData.endDate)}】` || "";-->
<!--        document.getElementById("groupTitle").textContent = groupData.groupTitle || "";-->
<!--        document.getElementById("groupLocation").textContent = groupData.groupLocation || "位置資訊";-->
<!--        document.getElementById("registeredNumber").textContent = `${groupData.registeredNumber}人/`;-->
<!--        document.getElementById("limitNumber").textContent = groupData.limitNumber || "";-->
<!--        document.getElementById("groupDeposit").textContent = groupData.groupDeposit-->
<!--            ? `預付訂金$${groupData.groupDeposit}`-->
<!--            : "";-->
<!--        // document.getElementById("groupNotice").textContent = groupData.groupNotice || "揪團注意事項:";-->

<!--        let groupStatus = groupData.groupStatus;-->
<!--        //-->
<!--        // 1 : 審核成功,-->
<!--        //     2 : 審核失敗,-->
<!--        //     3 : 取消揪團,-->
<!--        //     4 : 延期揪團-->

<!--        switch (groupData.groupStatus) {-->
<!--            case 1:-->
<!--                document.getElementById("groupStatus").textContent = "審核成功";-->
<!--                break;-->
<!--            case 2:-->
<!--                document.getElementById("groupStatus").textContent = "審核失敗";-->
<!--                break;-->
<!--            case 3:-->
<!--                document.getElementById("groupStatus").textContent = "取消揪團";-->
<!--                break;-->
<!--            case 4:-->
<!--                document.getElementById("groupStatus").textContent = "延期揪團";-->
<!--                break;-->
<!--        }-->


<!--    }-->

<!--    function displayGroupInfo(groupData) {-->
<!--        // 获取图片元素-->
<!--        const groupPhotoElement = document.querySelector("#groupPhoto img");-->

<!--// 根据后端返回的 groupPhoto 属性来设置图片的 src-->
<!--        if (groupData.groupPhoto) {-->
<!--          groupPhotoElement.src = `data:image/jpg;base64,${groupData.groupPhoto}`;-->
<!--        } else {-->
<!--          // 如果 groupPhoto 属性不存在或为空，使用默认图片URL-->
<!--          groupPhotoElement.src = "default-photo.jpg";-->
<!--        }-->


<!--    // 取得並顯示對應的groupId的資訊-->
<!--    fetchGroupInfo(groupId);-->

<!--    getMembers();-->
<!--</script>-->
<script>
        // 當前頁面的URL
    let url = window.location.search;

    // 解析查詢參數
    let urlParams = new URLSearchParams(url);

    // 獲取groupId參數的值
    let groupId = urlParams.get("groupId");
    new Vue({
      el: '#app',
      data: {
        selfId: '', //先寫死之後要改成session的id
        reportReason: '',
        memberNum: '0',
        memberList: [],
        isButtonEnabled: true,
        clickedImageId: null,
        groupPhoto: '',
                groupName: "",
                groupContent: "",
                groupDate: "",
                groupTheme: "",
                groupLoc: "",
                groupNotice: "",
                groupDeposit: "",
      },
      methods: {
        async getGroupMember() {
          const url = "/ezdom/frontend/groupVerify/findGroupMember/" + groupId;
          try {
            const res = await fetch(url, {
              method: 'GET',
              headers: {
                'Content-Type': 'application/json',
              },
            });
            console.log(res);
            const data = await res.json();
            console.log(data);
            this.memberList = data;
            this.memberNum = data.length;
            console.log(this.memberList);
          } catch (err) {
            console.log(err);
          }
        },
        async getSelfId() {
          const url = "/ezdom/profile/getSelf";
          try {
            const resp = await fetch(url, {
              method: "GET",
              headers: {
                "content-type": "application/json",
              },
            });
            const data = await resp.json();
            this.selfId = data.memberId;
            console.log(data);
          } catch (err) {
            console.log(err);
          }
        },
        async SendReport(memberId) {
          if (this.selfId === memberId) {
            return alert("不能檢舉自己");
          }
          await swal.fire({
            title: '請輸入檢舉原因',
            input: 'text',
            inputPlaceholder: '請輸入檢舉原因',
            showCancelButton: true,
            confirmButtonText: '確認',
            cancelButtonText: '取消',
          }).then((result) => {
            if (result.isConfirmed) {
              if (result.value === '') {
                return alert("請輸入檢舉原因");
              }
              this.reportReason = result.value;
              const url = "/ezdom/frontend/groupReport/createGroupReport"
              const res = fetch(url, {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                  "reportedMemberId": memberId,
                  "groupId": groupId,
                  "reportReason": this.reportReason,
                  "groupReportStatus": 0,

                })
              });
            }
            else {
              return;
            }
          })
        },
        async getGroupInfo() {
                    const url = "/ezdom/frontend/groupcreate/groupInfo/" + groupId;
                    const res = await fetch(url, {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                    });
                    const data = await res.json();
                    console.log(data);
                    this.groupPhoto = data.groupPhoto;
                    this.groupname = data.groupName;
                    this.groupContent = data.groupContent;
                    this.groupDate = data.groupDate;
                    this.groupTheme = data.groupTitle;
                    this.groupLoc = data.groupLocation;
                    this.groupDeposit = data.groupDeposit;
                    this.groupNotice = data.groupNotice;

                },
        showButton(memberId) {
          if (this.clickedImageId === memberId) {
            this.clickedImageId = null;
          } else {
            this.clickedImageId = memberId;
          }
        },
      },
      mounted() {
        this.getGroupMember();
        this.getGroupInfo();
        this.getSelfId();
      },
      beforeDestroy() {
      },
    })
    function showCancelConfirmation() {



      const apiUrl = `/ezdom/frontend/group/member/${groupId}`;
        const options = {
            method: 'DELETE'
        }
        fetch(apiUrl,options)
            .then(response => {})
            .then(() => {
                alert("已取消報名，款項已退回到您的帳戶當中");

                window.location.href = '/ezdom/group/mycomminggroup.html'
            })
            .catch(error => {
                console.error("Error fetching group data:", error);
            });


    }
</script>
<script>
    // ====================== 取得登入的session資訊 ====================== //
                window.addEventListener("load", function() {
                        getSession();
                    })
              const s_req = '/ezdom/frontend/session';
              let session;
              let memberId = null;
              let coachId = null;
              async function getSession(){
                  let response = await fetch(s_req);
                  session = await response.json();
                  console.log(session);
                  memberId = session.memberId;
                  if(null !== session.coachId){
                      coachId = session.coachId;
                  }

                  let link = document.querySelector("#link");
                  if(null !== coachId){
                  console.log("1:" + coachId);
                    link.setAttribute("href", `/ezdom/frontendcoach/coach-details.html?coachId=${coachId}`);
                  } else if (null === coachId){
                  console.log("2:" + coachId);
                    link.setAttribute("href", `/ezdom/frontendcoach/coach-signup.html`);
                    link.textContent = "註冊教練";
                  }
              }
</script>
</html>
